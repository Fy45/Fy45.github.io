[{"title":"Ethereum Smart Contract 1st try..><","url":"/2019/07/16/2019-07-16/","content":"\n# è·³å‘\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<center> -å­¦æœ¯7-y.","tags":["Project"],"categories":["KTH"]},{"title":"é¡¹ç›®ç»ˆäºèµ°å‡ºäº†è¿·é›¾","url":"/2019/06/26/2019-06-26/","content":"\n> åˆè¯† bitshares æ˜¯å› ä¸ºå…¬å¸æ‰€ç”¨çš„åŒºå—é“¾æ˜¯åŸºäºbitsharesæ­å»ºçš„  \n>\n> ä¸ºäº†æ¯•è®¾çš„æˆåŠŸæ¨è¿›ï¼Œè¿™ä¹Ÿæ˜¯å¿…ç»ä¹‹è·¯äº†ï¼Œå¹¸å¥½æµ‹è¯•ç½‘ç»œçš„ä½¿ç”¨ç»™æœ€ç»ˆå•ƒä¸‹æ¥äº† ä¸‹é¢æ˜¯ä¸€äº›è‡ªå·±çš„å°å¿ƒå¾—å’Œè®°å½•\n>\n> å¯ä¸€å®šå¾—æ¯•ä¸šå•Šï¼ˆæœªæ¥ç„¦è™‘æ‚£è€…\n>\n> å°è¯•äº†ä¸€ä¸‹public testnet\n>\n> ç”¨æˆ·åï¼šyfan-testnet\n>\n> å¯†ç ï¼šP5JUW3US1SqhHZ4RAqt7PrhqqEfN2kotnrh7MS9HMbqA9\n\n# 4å¯¹å¯†é’¥å¯¹ä»¥åŠåœ°å€/æœ€ç»ˆç”¨æˆ·yfan\n\n> w1 w2 w3 admin\n\n[{\"private_key\":\"5JjzogP6V1TciYQHthBLPnmj5cyrYLfwfoDeY6rpG4mcNUd7hDq\",\"public_key\":\"BTS6WqFcNmb8DA8SG2HJDL23TzSKk67HrCf6qTeqXhbCcohi11epm\",\"address\":\"BTSMZq4SyNoFGraCNuV5ZjbJHMvcYBLSV3rM\"},\n\n{\"private_key\":\"5JpX8v4y7HQ9EXLRGPXcPCVCqw5BLzP2drAbwJ94P3QXFxxwzkw\",\"public_key\":\"BTS8ftmc4mCUjnR43SPtQFg8xuJgUr82MKuBjvegrmdDasohZcpZw\",\"address\":\"BTSP1gitSEvGzCLCa9rsCCfQiRSzNQquDUxX\"},\n\n{\"private_key\":\"5HtEtfFYt1eGpE6uVWMyzMXzh8BBYfPyfH2A8Q8FQvXgdFXsc7N\",\"public_key\":\"BTS7hKorE5txmsT6qee9NNqcYqNvBU1Umxk1cV93Q1XPEbYCacpfM\",\"address\":\"BTSCSSgBtAUAGkhFbo6rbUMqtNTJteWaxHdG\"},\n\n{\"private_key\":\"5KNP4D9K3FL1gBtRtanhfgLZTpz1wcJVsLEQXonRMeAwzMDL2se\",\"public_key\":\"BTS51ABY2MWbn3W5NNW3JNJRDraEi4JbzEAmBa3jiTQJ7f99Z7xJ6\",\"address\":\"BTS21sMK9h93c1i29wLKi29xqKxqjvLSEarw\"}]\n\n> yfan\n\n{\"private_key\":\"5Kecd9SoyHEYbSrUnadGzSokptuTWNMKi4M4CgXh7dSNSzLkNLq\",\"public_key\":\"BTS7kD3ohag84b2EEWovg24oT5CrKBePYhchX5eVNduh3LsrZyUQW\",\"address\":\"BTSLbrRxMZvrVCE7UqdQVqawcLDwAT289pPp\"}\n\n\n\n# Build bitshares on MacOSX\n\nFollowing the tutorial on [Building on OS X](https://github.com/bitshares/bitshares-core/wiki/Building-on-OS-X)\n\n`git submodule update --init --recursive`\n\n# Build private Testnet\n\n**Ref**ï¼š\n\n1. [Private Testnet Set up](https://dev.bitshares.works/en/master/development/testnets/private_testnet.html#initial-compilation)\n2. [How to build your own bitshares testnet ](https://www.jianshu.com/p/0bd20134e9a2?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation)\n3. [BitShares 2.0 å¤šèŠ‚ç‚¹ç§é“¾éƒ¨ç½²](https://dpos.club/topics/118)\n\nåœ¨è¿›è¡Œè¿™éƒ¨åˆ†å†…å®¹çš„æ—¶å€™ï¼Œä¸æ•¢æ”¾æ‰‹è¯•çš„æˆ‘åšäº†å¾ˆå¤šæ— ç”¨åŠŸã€‚æ€»æƒ³ç©å‡ºä¸€ç‚¹è‡ªå·±çš„èŠ±æ ·ï¼Œç»“æœè¿˜æ˜¯ç”¨äº†å®˜æ–¹çš„`json`\n\ntutorial 2 ä¸­ä»‹ç»äº†3ä¸ªèŠ‚ç‚¹çš„testnetéœ€è¦è‡ªå·±ç”Ÿæˆä¸€å®šæ•°é‡çš„å¯†é’¥å¯¹(key pair) äºæ˜¯æˆ‘ä»¬å°±ç”¨åˆ°äº†ä¸‹ä¹°å‘¢command\n\n```\nprograms/genesis_util/get_dev_key BTS w1 w2 w3 admin\n// w1 w2 w3 åˆ†åˆ«ä»£è¡¨3ä¸ªèŠ‚ç‚¹\n// ä½†éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šç”Ÿæˆåˆ†åˆ«çš„\t`json` æ–‡ä»¶ ä»¥å¯¹åº”w1 w2 w3çš„å¯†é’¥å¯¹\n// jsonæ–‡ä»¶ä¸­è§„å®šäº†init accéœ€è¦æœ‰11ä¸ª \n// åˆ›é€ è‡ªå·±çš„jsonæ—¶å¯ä»¥å°†init1-11éƒ½æ”¹ä½œè‡ªå·±çš„w1 public key ä»¥æ­¤ç±»æ¨\n// adminåˆ™å¯ä»¥å»æ›¿ä»£å®˜æ–¹æ–‡ä»¶çš„nathan acc æˆä¸ºæ ¸å¿ƒèµ„äº§çš„ä¿ç®¡äºº\n```\n\n`genesis`æ–‡ä»¶ä¸­å‡ ä¸ªæˆ‘è®¤ä¸ºéœ€è¦å¼ºè°ƒçš„åœ°æ–¹\n\n```json\n\"initial_balances\": [{\n      \"owner\": \"TSLbrRxMZvrVCE7UqdQVqawcLDwAT289pPp\", //è¿™é‡Œå¡«å†™yfançš„addr\n      \"asset_symbol\": \"BTS\",\n      \"amount\": \"1000000000000000\"\n    }\n\"maintenance_interval\": 600, //åŸå§‹æ–‡ä»¶ä¸­æ˜¯86400ï¼Œå¦‚æœä¸ºäº†åŠ å¿«è¯äººæ´»è·ƒç¨‹åº¦å¯ä»¥æ”¹å°\n\"extensions\": {\n        \"updatable_htlc_options\": {\n            \"max_timeout_secs\": 2592000,\n            \"max_preimage_size\": 1024000\n        }\n    }      \t\t\t\t\t//æ­¤éƒ¨åˆ†åœ¨240è¡Œä¸Šä¸‹ï¼Œå£°æ˜æ˜¯ä¸ºäº†private testnetä¸Šhtlcçš„éƒ¨ç½²\n```\n\néœ€è¦æå‡ºçš„æ˜¯ï¼Œ jsonæ–‡ä»¶æ˜¯ä¸å…è®¸åŠ ä»»ä½•å½¢å¼commentçš„ï¼ŒDouglasè€çˆ·å­çš„åŸæ„æ˜¯é˜²æ­¢æœ‰äººç”¨æ³¨é‡Šæ¥è§„å®šè§£ææŒ‡ä»¤ï¼ˆparsing directivesï¼‰ç ´åäº†interoperabilityã€‚æ‰€ä»¥ä¸Šæ–¹é‚£ä¸ªåæ–œæ å¹¶ä¸èƒ½ä¸€å¹¶è¢«å¤åˆ¶åˆ°åŸæ–‡ä»¶ä¸­ã€‚æœ›å‘¨çŸ¥ã€‚\n\n## Embed Genesis (optionalï¼‰\n\né‡æ–°åŸºäº`genesis.json`è¿›è¡Œrebuild\n\nstepï¼š\n\n```shell\nmake clean\nfind . -name \"CMakeCache.txt\" | xargs rm -f\nfind . -name \"CMakeFiles\" | xargs rm -Rf\ncmake -DGRAPHENE_EGENESIS_JSON=\"$testnet/genesis/yfan_genesis.json\"\n```\n\nåœ¨ä¸Šæ–¹è¿™é‡Œå¯èƒ½ä¼šé‡åˆ°æŠ¥é”™ï¼Œå¤§æ¦‚å°±æ˜¯æ— æ³•æ‰¾åˆ°boostå’Œopensslçš„rootåœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†æ¬¡åœ¨cmakeçš„è¿‡ç¨‹ä¸­å£°æ˜\n\n```shell\ncmake -DGRAPHENE_EGENESIS_JSON=\"$testnet/genesis/yfan_genesis.json\"  -DBOOST_ROOT=/usr/local/opt/boost@1.60 -DOPENSSL_ROOT_DIR=/usr/local/opt/openssl/\n```\n\n> å‘½é‡Œæ— æ—¶è«å¼ºæ±‚â€¦ makeä¸­æ€»æ˜¯å‡ºé”™ è¿˜å¾ˆéš¾æ’æŸ¥â€¦ cppä¸æ˜¯æˆ‘çš„æœ¬å‘½ è¿™é‡Œå°±ä¸ç»§ç»­ä¸‹å»äº†å­xx\n\nå¥½çš„æˆ‘åˆå›æ¥äº†ï¼\n\nå¯èƒ½æ˜¯ä¹‹å‰åœ¨make cleançš„æ—¶å€™æ²¡æœ‰å®Œå…¨æŠŠä¹‹å‰é—ç•™çš„æ–‡ä»¶åˆ é™¤å½»åº•ï¼ŒåˆæŠ‘æˆ–è€…åœ¨ç”¨cmakeä¹‹åæ— éœ€è¿›è¡ŒäºŒæ¬¡makeï¼ˆä¸å¤ªè¯´å¾—é€šâ€¦\n\n æ€»ä¹‹ï¼Œå­¤æ³¨ä¸€æ·çš„æˆ‘æŠŠtestnetæ•´ä¸ªæ–‡ä»¶å¤¹æ‹·è´å‡ºæ¥å¹¶ä¸”åˆ é™¤äº†æ‰€æœ‰bitshares-BTSçš„æ–‡ä»¶ä¹‹åé‡æ–°git cloneï¼Œ makeçš„è¿›ç¨‹å°±å˜çš„é¡ºåˆ©äº†è®¸å¤š\n\n\n\n## é…ç½®\n\n`./witness_node`å¯åŠ¨å°†ä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸€ä¸ªdata directoryï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆç›¸åº”çš„`config.ini`æ–‡ä»¶\n\n```bash\n./witness_node --data-dir data/my-blocktestnet --genesis-json genesis/yfan_genesis.json --seed-nodes \"[]\" --enable-stale-production\n```\n\nåœ¨è¿™é‡Œä¼šç”Ÿæˆæˆ‘ä»¬ä¹‹å‰æåˆ°çš„Chain IDï¼ŒèŠ‚ç‚¹çš„åˆå§‹åŒ–å·²ç»å®Œæˆã€‚\n\n`enable-stale-production = true` è¿™é‡Œæˆ‘ä»¬å…è®¸äº†witness_nodeç”Ÿæˆæ—§çš„block/0 block è¿™ä¸€æ­¥å¯ä»¥åœ¨ä¸‹æ–¹commandé‡Œå£°æ˜ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬ä¸éœ€è¦ä»–ï¼Œä¹Ÿå¯ä»¥åœ¨config.iniä¸­æå‡ºã€‚\n\n`--seed-nodes â€œ[]â€` ä»£è¡¨åˆ›å»ºä¸€ä¸ªç©ºèŠ‚ç‚¹ç§å­åˆ—è¡¨ï¼Œä»¥å…è¿æ¥åˆ°default hardcodedï¼ˆé»˜è®¤ç¡¬ç¼–ç ï¼‰ç§å­ã€‚\n\nåœ¨ç”Ÿæˆçš„diré‡Œæ‰¾åˆ°config.iniæ–‡ä»¶ æ ¹æ®tutorialè¿›è¡Œé…ç½®ï¼Œ æˆ‘ä»¬ä¼šå°†witness-id è¿›è¡Œå¤šæ¬¡å£°æ˜ï¼Œè¿™æˆæƒwitness_nodeå»ä»£è¡¨æ‰€åˆ—å‡ºçš„witness-idç”Ÿæˆblockï¼Œå¹¶æŒ‡å®šç­¾ç½²è¿™äº›blockæ‰€éœ€çš„ç§é’¥ï¼ˆprivatekeyï¼‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè§è¯äººéƒ½åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œä½†å‡ºäºè¿™ä¸ªæµ‹è¯•ç½‘çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†ä»æ‰€æœ‰è§è¯äººå¼€å§‹åœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šç­¾ç½²blockã€‚\n\nä¸€ä¸ªå¤§ä½¬çš„å¯¹config.iniçš„è¯¦ç»†è§£é‡Š [é“¾æ¥è¿™é‡Œ](https://www.jianshu.com/p/c47dba98480f)\n\n```shell\n# Endpoint for P2P node to listen on\n# p2p-endpoint ä¸ºå½“å‰èŠ‚ç‚¹å¯¹å¤–å¹¿æ’­çš„ç«¯å£å· å¦‚æœå°†è¿™è¡Œæ³¨é‡Šçš„è¯ witness_node å°†éšæœºåˆ›å»ºä¸€ä¸ªç«¯å£ä½¿ç”¨ è¿™é‡Œæˆ‘ä»¬å°†ç«¯å£è®¾ç½®ä¸ºå¯¹å…¨ç½‘å…¬å¼€çš„8091\n#è‹¥ç”¨127.0.0.1:8091åˆ™ä»£è¡¨åªåªå…è®¸æœ¬åœ°è®¿é—®\np2p-endpoint = 0.0.0.0:8091\n\n# P2P nodes to connect to on startup (may specify multiple times)\n# seed-node ä»£è¡¨ç€å¯åŠ¨çš„æ—¶å€™è¿æ¥çš„èŠ‚ç‚¹ï¼ˆè‹¥æ²¡æœ‰å¯åŠ¨æ—¶å¸Œæœ›è¿æ¥èŠ‚ç‚¹ï¼Œè¯·ä¸è¦å°†æ³¨é‡Šæ”¾å¼€ï¼‰\n# seed-node = \n\n# JSON array of P2P nodes to connect to on startup\n#å¯åŠ¨åè¿æ¥çš„èŠ‚ç‚¹æ•°ç»„ï¼Œå¦‚æœä¸å¸Œæœ›è¿æ¥ä»»ä½•èŠ‚ç‚¹ï¼Œè¯·æŒ‰ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œï¼›å¦åˆ™è¯·æŒ‰ç…§æ³¨é‡Šæ–¹æ³•è¿›è¡Œ\nseed-nodes = []\n# seed-nodes = [\"47.104.82.72:8092\"] \n\n# Pairs of [BLOCK_NUM,BLOCK_ID] that should be enforced as checkpoints.\n#è¿™ä¸ªå‘½ä»¤å¯¹å¯åŠ¨æš‚æ—¶æ˜¯æ— ç”¨(ç”¨é€”ä¸ºè®°å½•ç‚¹ï¼Œä½†å…·ä½“ç»†èŠ‚è¿˜éœ€è¦ç ”ç©¶ï¼Œæš‚æ—¶ä¿æŒ)\n# checkpoint = \n\n# Endpoint for websocket RPC to listen on\n# è¿™ä¸ªå‘½ä»¤å¾ˆé‡è¦ï¼Œæœ€ç»ˆç”±è¿™ä¸ªç«¯å£å†³å®šç€åŒºå—é“¾ç½‘é¡µçš„ç­‰ç­‰å®¢æˆ·ç«¯çš„è¿æ¥ è¿™é‡Œæˆ‘ä»¬å¼€æ”¾å…¨ç½‘8090ç«¯å£ å®¢æˆ·ç«¯é€šè¿‡ws://æœåŠ¡å™¨ip:8090 è¿æ¥ éssl\nrpc-endpoint = 0.0.0.0:8090\n\n# Endpoint for TLS websocket RPC to listen on\n# è¿™ä¸ªè·Ÿä¸Šé¢ä¸€æ ·åŒºåˆ«æ˜¯è¿™ä¸ªæ˜¯é‡‡ç”¨sslè¯ä¹¦çš„\n# rpc-tls-endpoint = \n\n# The TLS certificate file for this server\n# sslè¯ä¹¦åœ°å€\n# server-pem = \n\n# Password for this certificate\n# sslè¯ä¹¦å¯†ç \n# server-pem-password = \n\n# File to read Genesis State from\n# æ ‡å¿—ç€è§è¯èŠ‚ç‚¹ä»å“ªé‡Œè·å–åˆ›ä¸–æ–‡ä»¶ åŒå‘½ä»¤è¡Œå‚æ•°æ•ˆæœ\n# genesis-json = \n\n# Block signing key to use for init witnesses,\noverrides genesis file\n# å¯ä»¥é‡å†™åˆ›ä¸–æ–‡ä»¶ä¸­çš„è§è¯äººç­¾åï¼Œå…·ä½“ç”¨é€”æš‚æ—¶è¿˜æ²¡æœ‰å°è¯•\n# dbg-init-key = \n\n# JSON file specifying API permissions\n# å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„apiï¼ˆä¸€èˆ¬æ˜¯å…¨éƒ¨å¼€æ”¾ï¼‰\n# api-access = \n\n# Space-separated list of plugins to activate\n# æŒ‚è½½çš„æ¥å£\n# plugins = \n\n# Enable block production, even if the chain is stale.\n# è¿™ä¸ªæ¯”è¾ƒé‡è¦ï¼Œæ˜¯å¦å…è®¸åŒºå—é“¾èŠ‚ç‚¹äº§å—ï¼Œå³ä½¿è¿™ä¸ªé“¾è¢«å†»ç»“ï¼ˆäº§ç”Ÿç¬¬1å—æˆ–è€…é•¿æ—¶é—´æœªä½¿ç”¨ï¼‰ï¼Œä¸€èˆ¬å¡«true\nenable-stale-production = true\n\n# Percent of witnesses (0-99) that must be participating in order to produce blocks\n# è¿™ä¸ªç”¨é€”æš‚æ—¶æœªçŸ¥\nrequired-participation = false\n\n# ID of witness controlled by this node (e.g. \"1.6.5\", quotes are required, may specify multiple times)\n# å½“å‰èŠ‚ç‚¹æ§åˆ¶çš„è§è¯äººid æ ¼å¼ witness-id = \"1.6.5\" å¯ä»¥æ·»åŠ å¤šä¸ª\n# witness-id = \n\n# Tuple of [PublicKey, WIF private key] (may specify multiple times)\n# å¯¹åº”åŒºå—ç­¾åçš„å…¬ç§é’¥å¯¹\nprivate-key = [\"BTS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV\",\"5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3\"]\n\n# ä¸‹é¢çš„ä¸œè¥¿ç”¨é€”æš‚æ—¶ä¸å¤šæ‰€ä»¥å…ˆä¸ç»§ç»­ä»‹ç»äº†\n# Tuple of [PublicKey, WIF private key] (may specify multiple times)\ndebug-private-key = [\"BTS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV\",\"5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3\"]\n\n# Account ID to track history for (may specify multiple times)\n# track-account = \n\n# Keep only those operations in memory that are related to account history tracking\npartial-operations = 1\n\n# Maximum number of operations per account will be kept in memory\nmax-ops-per-account = 1000\n\n# Elastic Search database node url\n# elasticsearch-node-url = \n\n# Number of bulk documents to index on replay(5000)\n# elasticsearch-bulk-replay = \n\n# Number of bulk documents to index on a syncronied chain(10)\n# elasticsearch-bulk-sync = \n\n# Log bulk events to database\n# elasticsearch-logs = \n\n# Use visitor to index additional data(slows down the replay)\n# elasticsearch-visitor = \n\n# Track market history by grouping orders into buckets of equal size measured in seconds specified as a JSON array of numbers\nbucket-size = [60,300,900,1800,3600,14400,86400]\n\n# How far back in time to track history for each bucket size, measured in the number of buckets (default: 1000)\nhistory-per-size = 1000\n\n# Will only store this amount of matched orders for each market in order history for querying, or those meet the other option, which has more data (default: 1000)\nmax-order-his-records-per-market = 1000\n\n# Will only store matched orders in last X seconds for each market in order history for querying, or those meet the other option, which has more data (default: 259200 (3 days))\nmax-order-his-seconds-per-market = 259200\n\n# RPC endpoint of a trusted validating node (required)\n# trusted-node = \n\n# Block number after which to do a snapshot\n# snapshot-at-block = \n\n# Block time (ISO format) after which to do a snapshot\n# snapshot-at-time = \n\n# Pathname of JSON file where to store the snapshot\n# snapshot-to = \n\n# declare an appender named \"stderr\" that writes messages to the console\n[log.console_appender.stderr]\nstream=std_error\n\n# declare an appender named \"p2p\" that writes messages to p2p.log\n[log.file_appender.p2p]\nfilename=logs/p2p/p2p.log\n# filename can be absolute or relative to this config file\n\n# route any messages logged to the default logger to the \"stderr\" logger we\n# declared above, if they are info level are higher\n[logger.default]\nlevel=info\nappenders=stderr\n\n# route messages sent to the \"p2p\" logger to the p2p appender declared above\n[logger.p2p]\nlevel=info\nappenders=p2p\n```\n\n# ç»ˆäºè¦å¯åŠ¨æµ‹è¯•ç½‘å•¦ï¼\n\n```shell\n./witness_node --data-dir data/my-blocktestnet --enable-stale-production --seed-nodes \"[]\"\n```\n\né€šè¿‡p2pç½‘ç»œè¿æ¥åˆ°ç°æœ‰witness-nodeæˆ–ä»ç°æœ‰æ•°æ®ç›®å½•è·å–åŒºå—é“¾çŠ¶æ€blockchain state from an existing data directoryçš„åç»­è¿è¡Œä¸éœ€è¦å…·æœ‰--enable-stale-productionæ ‡å¿—ã€‚\n\nFor testing purposes, the `--dbg-init-key` option will allow you to quickly create a new chain against any genesis file, by replacing the witnessesâ€™ block production keys. é€šè¿‡æ›¿æ¢witnessesâ€™blockçš„å¯†é’¥ ï¼ˆæœªä¸¾ä¾‹ ç¨éš¾ç†è§£\n\nEach wallet is specifically associated with a single chainæ¯ä¸ªé’±åŒ…åªä¸å•ç‹¬çš„ä¸€æ¡chainç›¸å…³è”, specified by its chain ID. This is to protect the user from (e.g., unintentionally) using a testnet wallet on the real chain.ï¼ˆä¸ºäº†é˜²æ­¢ä¸»ç½‘è¯¯ç”¨ï¼‰\n\n# Chain IDçš„ä½œç”¨\n\n> Chain ID is cc546c96f8d3676f0b0f34fac209f5f48032d094d65eca7bbfebd62c6e6342e2\n>\n> Chain ID 2 is 4018d7844c78f6a6c41c6a552b898022310fc5dec06da467ee7905a8dad512c8\n\nChain ID(old) : e10e9742420a7a52d4ce6a7c70867a953316b19de2d861a10bc21efcc095e5ed\n\nchain ID new : 8e0c5b1e2e37487ce5b5d40b5acc57d8387992ef2ea82562701871319674dc52\n\nChain IDæ˜¯genesisçŠ¶æ€çš„å“ˆå¸Œå€¼ï¼Œæ‰€æœ‰äº¤æ˜“ç­¾åä»…å¯¹å•ä¸ªçš„Chain ID æœ‰æ•ˆï¼ˆvalidï¼‰å› æ­¤ç¼–è¾‘genesis.jsonæ–‡ä»¶å°†å½±å“åˆ° ä¸æ‰€æœ‰å­˜åœ¨çš„é“¾çš„åŒæ­¥sync with all existing chains \n\n> é™¤éå…¶ä¸­æŸä¸ªé“¾çš„genesis fileä¸ä½ çš„ç›¸åŒ\n\nå¦‚æœéœ€è¦build å¤šä¸ªnodeä»¥é˜²å…¶ä¸­ä¸€ä¸ªbreak downï¼Œæˆ‘ä»¬éœ€è¦å°†node-2å’Œnode-3ä¹Ÿè®¾ç½®æˆwitnessèŠ‚ç‚¹ã€‚\n\nè¿™é‡Œå°±éœ€è¦ä¹‹å‰è®°å½•çš„chain ID\n\n```shell\n./cli_wallet --wallet-file=genesis/yfan_genesis.json --chain-id 8e0c5b1e2e37487ce5b5d40b5acc57d8387992ef2ea82562701871319674dc52 --server-rpc-endpoint=ws://ã€ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„ipæˆ–åŸŸåã€‘:11011\n```\n\n> ä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œæˆ‘åœ¨åˆå§‹é˜¶æ®µè¿˜æ²¡æ‰“ç®—å»ºå¤šä¸ªèŠ‚ç‚¹ æ‰€ä»¥è¿™é‡Œçš„èŠ‚ç‚¹ipæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥š\n\n\n\n# åˆ›å»ºCli-wallet\n\nä¸‹ä¸€æ­¥åˆ™æ˜¯éœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„walletæ¥è¿æ¥ä½ private testnetä¸Šçš„çš„witness-nodeï¼Œéœ€è¦å£°æ˜chainIDä»¥åŠserveråœ°å€\n\nåœ¨æµ‹è¯•ç½‘å¯åŠ¨æ—¶è¿è¡Œä¸‹é¢çš„command\n\n```sh\n./cli_wallet --wallet-file \n\t\t\t\t\t\t//é’±åŒ…çš„é…ç½®æ–‡ä»¶ç›®å½•,è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå¦‚æœä¸çŸ¥é“å…·ä½“æ–‡ä»¶æ—¶ä¸éœ€è¦å£°æ˜ï¼Œå®¹æ˜“å‡ºé”™\n\t\t\t\t\t\tfile/wallet_yfan.json\n            --chain-id //è¿æ¥çš„åŒºå—é“¾ID\n           8e0c5b1e2e37487ce5b5d40b5acc57d8387992ef2ea82562701871319674dc52\n           --server-rpc-endpoint //è¿æ¥è§è¯äººèŠ‚ç‚¹çš„websocket rpcåœ°å€\n           ws://127.0.0.1:8090 \n           -u //ç”¨æˆ·å'' -p //å¯†ç  ''\n```\n\n`./cli_wallet --wallet-file file/wallet_yfan.json --chain-id 8e0c5b1e2e37487ce5b5d40b5acc57d8387992ef2ea82562701871319674dc52 --server-rpc-endpoint ws://127.0.0.1:8090 -u \" -p \" `\n\nè¿™é‡Œé‡åˆ°äº†æŠ¥é”™ï¼Œerror messageå¦‚ä¸‹ï¼š\n\n```\nStarting a new wallet with chain ID cc546c96f8d3676f0b0f34fac209f5f48032d094d65eca7bbfebd62c6e6342e2 (from CLI)\n\n2257504ms th_a       main.cpp:194                  main                 ] wdata.ws_server: ws://127.0.0.1:8090 //é¦–å…ˆè¿™é‡Œæˆ‘å°±ä¸å¤ªæ‡‚ä¸ºä»€ä¹ˆserverä¼šç›‘å¬8090ç«¯å£ è€Œä¸æ˜¯æˆ‘è§„å®šçš„11011ï¼Œè¿™ä¸¤ä¸ªæ˜¯ä¸åŒçš„ä¸œè¥¿å—\n\n0 exception: unspecified\n\nUnderlying Transport Error\n\n    {\"message\":\"Underlying Transport Error\"}\n\n    fc::asio worker #1  websocket.cpp:465 operator()\n\n\n\n    {\"uri\":\"ws://127.0.0.1:8090\"}\n\n    th_a  websocket.cpp:694 connect\n\n```\n\n> Google ä¸€æœå‘ç°äº†å¾ˆå¤šç±»ä¼¼çš„æŠ¥é”™ç–‘é—®ï¼Œè°ƒè¯•å¦‚ä¸‹ï¼Œåœ¨è¿è¡Œtestnetçš„æ—¶å€™åŠ å…¥ `--rpc-endpoint=127.0.0.1:8090` å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªå’Œæˆ‘ä»¬ä¹‹å‰åœ¨config.iniä¸­å£°æ˜çš„ä¸æ˜¯ä¸€ä¸ªï¼Œä½†æ˜¯è¿™ç§localçš„testnetå¥½åƒç»Ÿä¸€è¿æ¥åˆ°8090è¿™ä¸ªç«¯å£ï¼Œé‚£ä¹ˆå°½ç®¡æˆ‘åœ¨ç”Ÿæˆwalletçš„æ—¶å€™å†™äº†11011ï¼Œç¨‹åºä¸­ä¹Ÿæ˜¯å›åˆ°8090ä¸Šç›‘å¬ã€‚\n\nConfused...githubä¸Šçš„issueä¸­æœ‰äººè§£ç­”äº†\n\n> there is a bug with boost 1.60, need to remove the white space after `-s` (and any other options) to let the program recognize the parameter specified\n\nä½†æ˜¯å¾ˆæ˜æ˜¾æƒ…å†µä¸åŒï¼Œ[æ¥ç€æˆ‘å‘ç°äº†å¦ä¸€ä¸ª](https://bitsharestalk.org/index.php?topic=25504.0)ï¼Œso faræ— äººè§£ç­”ã€‚\n\né‚£æ—¢ç„¶è¿™æ · ä¸‹é¢çš„æµ‹è¯•æˆ‘å°±åœ¨è¿è¡Œnodeçš„æ—¶å€™åŠ å…¥--rpc-endpointè§„å®šç«¯å£8090çš„æŒ‡ä»¤ï¼Œç„¶åå¼€å§‹cli_walletéƒ¨åˆ†çš„æ’é›·ã€‚\n\nï¼ˆè¿™éƒ¨åˆ†çš„ä¸œè¥¿è¿˜æ˜¯å­˜ç–‘\n\n## ä¸€äº›Commandçš„è§£é‡Š\n\n**Ref:**[bitsharesç ”ç©¶ç³»åˆ—ã€åˆè¯†cli_walletã€‘](https://busy.org/@chaimyu/bitshares-cliwallet)\n\nè¿›å…¥é’±åŒ…åçš„ç¬¬ä¸€ä¸ªæ­¥éª¤æ˜¯è®¾ç½®å¯†ç ï¼š\n\n```shell\n3058094ms th_a  main.cpp:199  main     ] wdata.ws_user:  wdata.ws_password:  \nPlease use the set_password method to initialize a new wallet before continuing\nnew >>> set_password secret\nnull\nlocked >>>\n```\n\næ ¹æ®å®˜æ–¹çš„å»ºè®® è¿™é‡Œçš„cli-walletçš„å¯†ç ä¸ºsupersecretï¼Œæ¥ç€æˆ‘ä»¬å°±å¯ä»¥ç”¨è¿™ä¸ªå¯†ç æ¥è§£é”å¹¶ä¸”å¯¼å…¥nathanè¿™ä¸ªè´¦æˆ·ï¼Œä½™é¢ä¿¡æ¯éƒ½åœ¨ä¿å­˜åœ¨è´¦æˆ·é‡Œï¼Œå¯¼å…¥çš„æ—¶å€™éœ€è¦çŸ¥é“**name**å’Œ**private key**\n\n```sh\nlocked >>> unlock secret\nunlocked >>> import_key yfan\n\"5Kecd9SoyHEYbSrUnadGzSokptuTWNMKi4M4CgXh7dSNSzLkNLq\"\nunlocked >>> import_balance yfan [\"5Kecd9SoyHEYbSrUnadGzSokptuTWNMKi4M4CgXh7dSNSzLkNLq\"] true\nunlocked >>> list_account_balances yfan\n```\n\nåœ¨å¯¼å…¥nathanè´¦æˆ·çš„ä½™é¢åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢çš„æŒ‡ä»¤æ¥æŸ¥è¯¢ ç»“æœå¦‚ä¸‹\n\n`10000000000 BTS`\n\nè¿™æ—¶å€™genesisæ–‡ä»¶ä¸­çš„è´¦æˆ·å·²ç»è¢«æˆ‘ä»¬å¯¼å…¥ï¼Œä½†æˆ‘ä»¬ä»éœ€è¦æ–°å»ºä¸€ä¸ªè´¦æˆ·æ¥å®ç°è½¬è´¦åŠŸèƒ½ï¼Œè¿™æ—¶æˆ‘ä»¬é¦–å…ˆéœ€è¦*æ³¨å†Œå•†è´¦æˆ·*ç”¨æ¥æä¾›èµ„é‡‘ï¼Œå¹¶ä¸”æ˜¯LTMï¼ˆç»ˆèº«ä¼šå‘˜ï¼‰\n\n```shell\nunlocked >>> upgrade_account yfan true\nunlocked >>> get_account yfan\n```\n\nè¿™ä¸ªæ—¶å€™è¿”å›çš„ä¿¡æ¯ä¸­æ¯”è¾ƒé‡è¦çš„æ”¹åŠ¨å°±æ˜¯`membership_expiration_date`ä»ä¹‹å‰çš„1970-01-01æ”¹åŠ¨åˆ°äº†1969-12-31ï¼Œè¡¨ç¤ºæˆåŠŸå‡çº§ã€‚\n\n\n\næ¥ä¸‹æ¥å°±æ˜¯ç”¨**yfan**è¿™ä¸ªæ³¨å†Œå•†æ¥æ³¨å†Œç”¨æˆ·test1ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦key pair\n\n```shell\nunlocked >>> suggest_brain_key\n{\n  \"brain_priv_key\": \"TUCUMAN TITTY WASHPOT WHID AQUABIB CHLAMYD STENION UPSCREW CONTEXT AUDIT TAPLET PERITE PENNET LEKHA CUTOFF SNED\",\n  \"wif_priv_key\": \"5Hwv9FXXrMd4o3FaHFJRLwuMmsihLz29bAGQYon4arK6ZzXCQhB\",//è´¦æˆ·çš„private key\n  \"pub_key\": \"BTS7UmYZJAcZ8wEFEXTDHkLtaW269iAA42qQWxu9gyBJ5het17pco\"// è´¦æˆ·çš„public key\n}\nunlocked >>> register_account john BTS7UmYZJAcZ8wEFEXTDHkLtaW269iAA42qQWxu9gyBJ5het17pco\nBTS7UmYZJAcZ8wEFEXTDHkLtaW269iAA42qQWxu9gyBJ5het17pco yfan yfan 0 true\n```\n\né€šè¿‡help()æŒ‡ä»¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è½¬è´¦çš„æ—¶å€™æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š\n\n`transfer(string from, string to, string amount, string asset_symbol, string memo, bool broadcast)`\n\nåˆ†åˆ«éœ€è¦ä»˜æ¬¾æ–¹ï¼Œæ”¶æ¬¾æ–¹ï¼Œæ•°é‡ï¼Œèµ„äº§ç¬¦å·ï¼ˆåœ¨bitsharesä¸‹ä¸ºBTSï¼‰ï¼Œé™„è¨€ï¼Œå¹¿æ’­ï¼ˆå¸ƒæœ—å€¼ï¼‰æŒ‰ç…§è§„å®š\n\n```shell\nunlocked >>> transfer yfan john 100000 BTS \"Transfer Test1\" true\nunlocked >>> list_account_balances john\nunlocked >>> list_my_accounts //è¿™æ—¶åªæœ‰yfanä¸€ä¸ªç”¨æˆ·åœ¨listé‡Œ\n```\n\nè½¬è´¦æˆåŠŸï¼Œå¯ä»¥æŸ¥è¯¢åˆ°johnçš„è´¦æˆ·é‡Œæœ‰äº†åŸºæœ¬çš„100000 BTSçš„èµ„é‡‘ä½™é¢ï¼Œç›¸ä¼¼çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ—¶å€™ä¸ºjohnä¹Ÿå¼€ä¸€ä¸ªé’±åŒ…ã€‚å¦‚æœä½ æ²¡æœ‰è®°ä¸‹æ¥ä¹‹å‰`suggest_brain_key`ä¸­æä¾›çš„â€œwif_priv_keyâ€ï¼Œä¹Ÿå¯ä»¥ç”¨`get_private_key + account pub_key`æ¥è·å¾—ã€‚\n\n\n\n### æˆä¸ºwitness\n\n```bash\nunlock >>> import_key john 5Hwv9FXXrMd4o3FaHFJRLwuMmsihLz29bAGQYon4arK6ZzXCQhB\nunlock >>> list_my_accounts //åœ¨å¯¼å…¥johnçš„ç§é’¥ä¹‹åï¼Œè¿™é‡Œå°±èƒ½æŸ¥çœ‹ä¸¤ä¸ªè´¦æˆ·ä¿¡æ¯\nunlock >>> create_witness john \"http://www.john\" true\nunlock >>> get_witness test1\n{\n  \"id\": \"1.6.12\",\n  \"witness_account\": \"1.2.18\",\n  \"last_aslot\": 0,\n  \"signing_key\": \"BTS8feyvbFfVHcMPncoxXbLUPW72yTQL219y8x19y5sukYAMAH4TM\",\n  \"vote_id\": \"1:22\",\n  \"total_votes\": 0,\n  \"url\": \"http://www.test1\",\n  \"total_missed\": 0,\n  \"last_confirmed_block_num\": 0\n}\n```\n\n`witness_node`éœ€è¦`signing_key`å’Œå¯¹åº”çš„ç§é’¥ï¼Œå¹¶è”åˆidæ‰èƒ½ç”ŸæˆåŒºå—ã€‚é€šè¿‡`get_private_key`è·å–è¯¥ç­¾åå¯†é’¥çš„ç§é’¥\n\n```bash\nunlocked >>> get_private_key BTS7UmYZJAcZ8wEFEXTDHkLtaW269iAA42qQWxu9gyBJ5het17pco\n\"5Hwv9FXXrMd4o3FaHFJRLwuMmsihLz29bAGQYon4arK6ZzXCQhB\"\n\n```\n\nè¦æƒ³è®©è¯äººç”Ÿäº§åŒºå—å°±å¿…é¡»ç»™æ–°å»ºçš„è¯äººå¯¹è±¡æŠ•ç¥¨è®©å…¶æˆä¸ºæ´»è·ƒè¯äººï¼š\n\n```bash\nvote_for_witness john john true true\n\n```\n\nåœ¨ä¸€æ®µç»´æŠ¤æ—¶é—´åå¯ä»¥ä½¿ç”¨å‘½ä»¤`get_dynamic_global_properties`æŸ¥çœ‹`next_maintenance_time`å­—æ®µçš„å€¼ã€‚åªæœ‰ç­‰åˆ°ä¸‹ä¸€ä¸ªç»´æŠ¤é—´éš”åï¼ŒæŠ•ç¥¨æ‰ä¼šç»Ÿè®¡ï¼Œè¯äºº æ‰æœ‰å¯èƒ½æˆä¸ºæ–°çš„æ´»è·ƒè¯äººï¼Œè¿™ä¸ªmaintainæ—¶é—´å¯ä»¥ç”±ä¹‹å‰çš„genesisæ–‡ä»¶ä¸­æ›´æ”¹ã€‚\n\nä¸€æ—¦ä¸‹ä¸€æ¬¡ç»´æŠ¤æ—¶é—´é—´éš”è¿‡å»åï¼Œå¯ä»¥ä½¿ç”¨`get_global_properties`å‘½ä»¤æ¥æŸ¥çœ‹åˆ°å½“å‰çš„æ´»åŠ¨è¯äººåˆ—è¡¨ï¼Œæ ¹æ®è¯äºº`id`æŸ¥çœ‹æ–°è¯äººå·²è¢«æŠ•ç¥¨æˆä¸ºæ´»è·ƒè¯äººã€‚ä¸€æ—¦æˆä¸ºæ´»è·ƒè¯äººåï¼Œ å°±å¯ä»¥è®©æ–°è¯äººèŠ‚ç‚¹ç”Ÿäº§åŒºå—ã€‚\n\nå°†è¯äººid`witness-id=â€œ1.6.12â€`ä»¥åŠtest1çš„å¯†é’¥å¯¹æ·»åŠ åˆ°privatekeyä¸­ï¼Œå¹¶ä¸”å†æ¬¡è¿è¡Œ`./witness_node --data-dir data/my-blocktestnet --enable-stale-production` å»æŸ¥çœ‹æ˜¯å¦æœ‰ç”¨witnessæˆåŠŸå‡ºå— `witness.cpp:181               block_production_loo `\n\n# committee membersï¼ˆoptionalï¼Ÿ\n\n```shell\nCreateâ¬‡ï¸:\ncreate_account_with_brain_key com0 com0 nathan nathan true\ncreate_account_with_brain_key com1 com1 nathan nathan true\ncreate_account_with_brain_key com2 com2 nathan nathan true\ncreate_account_with_brain_key com3 com3 nathan nathan true\ncreate_account_with_brain_key com4 com4 nathan nathan true\ncreate_account_with_brain_key com5 com5 nathan nathan true\ncreate_account_with_brain_key com6 com6 nathan nathan true\n\ncreate_account_with_brain_key [your_brain_key] \"name\" \"nathan\" \"nathan\" true\n\n\n\nUpgradeâ¬‡ï¸:\ntransfer nathan com0 100000 BTS \"some cash\" true\ntransfer nathan com1 100000 BTS \"some cash\" true\ntransfer nathan com2 100000 BTS \"some cash\" true\ntransfer nathan com3 100000 BTS \"some cash\" true\ntransfer nathan com4 100000 BTS \"some cash\" true\ntransfer nathan com5 100000 BTS \"some cash\" true\ntransfer nathan com6 100000 BTS \"some cash\" true\n\nupgrade_account com0 true\nupgrade_account com1 true\nupgrade_account com2 true\nupgrade_account com3 true\nupgrade_account com4 true\nupgrade_account com5 true\nupgrade_account com6 true\n\nRegisterâ¬‡ï¸:\ncreate_committee_member com0 \"http://www.com0\" true\ncreate_committee_member com1 \"http://www.com1\" true\ncreate_committee_member com2 \"http://www.com2\" true\ncreate_committee_member com3 \"http://www.com3\" true\ncreate_committee_member com4 \"http://www.com4\" true\ncreate_committee_member com5 \"http://www.com5\" true\ncreate_committee_member com6 \"http://www.com6\" true\n\nVoteâ¬‡ï¸:\nvote_for_committee_member nathan com0 true true\nvote_for_committee_member nathan com1 true true\nvote_for_committee_member nathan com2 true true\nvote_for_committee_member nathan com3 true true\nvote_for_committee_member nathan com4 true true\nvote_for_committee_member nathan com5 true true\nvote_for_committee_member nathan com6 true true\n\npropose_parameter_change com0 {\"block_interval\" : 6} true\n\n```\n\n# second node\n\nè¿™ä¸€éƒ¨åˆ†çš„å†…å®¹å¾ˆå¥½ç†è§£ï¼Œå¦‚æœæƒ³è¦å»ºç«‹ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼ˆåŸºäºåŒä¸€ä¸ªgenesisæ–‡ä»¶ï¼‰å¹¶ä¸”å°†å®ƒå’Œä¹‹å‰çš„èŠ‚ç‚¹è¿æ¥èµ·æ¥ï¼Œé‚£ä¹ˆå°±å¾—è·å–ä¹‹å‰èŠ‚ç‚¹çš„`p2p-endpoint`çš„åœ°å€ä½œä¸ºæ–°nodeçš„`seed-node`ï¼Œä¸¾ğŸŒ°ï¼š\n\nNode1 config.ini\n\n```ini\np2p-endpoint = 127.0.0.1:11010\n# seed-node =                // add a seed node of your own\n\nrpc-endpoint = 127.0.0.1:11011\n\n```\n\nNode2 config.ini\n\n```ini\np2p-endpoint = 127.0.0.1:11015\nseed-node = 127.0.0.1:11010 \n#è¿™é‡Œç”¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„p2påœ°å€æ¥ä½œä¸ºseed-node\n\nrpc-endpoint = 127.0.0.1:11020\n\n```\n\nåœ¨å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œ\n\n`./witness_node --data-dir data/my-blocktestnet2 --genesis-json genesis/yfan_genesis.json -s 127.0.0.1:8091` \n\næŒ‰é“ç†...ç»“æœæ”¶åˆ°Got blockåˆ™ä¸ºæˆåŠŸï¼Œä½†æˆ‘ä¹‹å‰è¯¯æ‰“è¯¯æ’æˆåŠŸæ”¶åˆ°äº†blockï¼Œä¹‹åå°±å†ä¹Ÿæ²¡æœ‰è¿‡äº†ï¼ˆä¹Ÿä¸çŸ¥é“å“ªä¸ªæ‰æ˜¯é”™çš„\n\n**å¤±è´¥ï¼ˆä¸‹æ¬¡å†æˆ˜**\n\n\n\n# HTLC Deploy\n\né¦–å…ˆï¼Œä¸ºäº†æµ‹è¯•çš„æ•ˆæœï¼Œéœ€è¦æœ‰ä¸¤ä¸ªcli-walletçš„ test_accounts, è¿™ä¸¤ä¸ªè´¦æˆ·å¯ä»¥åŒæ—¶å­˜åœ¨äºä¸€ä¸ªwalletæ–‡ä»¶ä¸­ã€‚ å¦‚ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`yfan`å’Œ`test1`ã€‚è½¬è´¦æ–¹ï¼šyfanå¿…é¡»æœ‰ä¸€å®šçš„balancesï¼Œtest1å¯ä»¥æ²¡æœ‰ä½™é¢ã€‚  \n\n##### Step 1\n\n[é€šè¿‡ç½‘ç«™ç”Ÿæˆ](https://passwordsgenerator.net/sha256-hash-generator/) preimageï¼ˆåŸåƒï¼‰çš„SHA-256å“ˆå¸Œå€¼ï¼Œkeep trackå‡ ä¸ªé‡è¦çš„å†…å®¹ï¼š\n\n1. **preimage_text**ï¼šyfan_Test_CrosscHain_14yhl9T\n2. **preimage_hash**ï¼š47C28C2C6728B718D38021D5C624F106DA8A3B3C14351DCE3BC7012427779A9B\n3. **preimage_length**ï¼ˆåŒ…æ‹¬ç©ºæ ¼çš„characteræ•°é‡ï¼‰å•ä½ä¸ºå­—èŠ‚byte ï¼š28\n\n##### Step 2\n\nç”ŸæˆHTLCï¼š\n\n```cli\nhtlc_create <from> <to> <amount> <symbol> <hash_algo> <preimage_hash> <preimage_length> <expiration> <broadcast>\ne.g.\nhtlc_create yfan john 100 BTS SHA256 47C28C2C6728B718D38021D5C624F106DA8A3B3C14351DCE3BC7012427779A9B 28 1000 true\n\n```\n\nåœ¨è¿™ä¸ªåœ°æ–¹æˆ‘æŒç»­ç¢°åˆ°äº†assert exception\n\n> {\"error\":\"Assert Exception: htlc_options: HTLC Committee options are not set.â€â€¦\n\nåœ¨å¤šæ¬¡æŸ¥è¯¢æ— æœåï¼Œæˆ‘æ‰“å¼€äº†bitsharesçš„issueç‰ˆé¢æœåˆ°äº†ä¸€ä¸ªå›ç­” [ref](https://github.com/bitshares/bitshares-core/pull/1833)ï¼Œç›®å‰masterä¸Šçš„genesis-dev.jsonæ–‡ä»¶ä¸­å¹¶æ²¡æœ‰ç”³æ˜htlcç»„ä»¶ï¼Œåœ¨private testnetä¸Šå°±ä¼šå‡ºç°htlc commandæŠ¥é”™ï¼Œdue to the related missing committee member parameters. The easier to do is to add them to the genesis file. This pull add the needed ones to developer genesis version. `htlc_create` just works with this addition and a new private testnet using this genesis.\n\nä½†æ˜¯åœ¨è¿™é‡Œæˆ‘å°±å‘æŒ¥äº†è‡ªå·±å§‹ç»ˆé€‚ç”¨ç¬¨åŠæ³•çš„è€—æ—¶è´¹åŠ›æŠ€èƒ½â€¦.sad face\n\næˆ‘é¦–å…ˆçœ‹ç€æ–‡ä»¶å»æ‰¾äº†æœ¬åœ°çš„é‚£ä¸ªå‡†å¤‡ç›´æ¥åœ¨ä¸Šé¢æ”¹åŠ¨ï¼Œä½†æ”¹åŠ¨å®Œåå´åˆæ‹…å¿ƒæœ‰å…¶ä»–ç›¸å¯¹åº”çš„æ–‡ä»¶åœ¨makeçš„è¿‡ç¨‹ä¸­ä¼šä¸åŒï¼Œæƒ³ç€æŠŠdevelop branchä¸Šçš„æ–‡ä»¶pullä¸‹æ¥ï¼Œä¸ä¼šæŒ‡ä»¤ä¸æ•¢çæ“ä½œã€‚\n\næœ€åæˆ‘è¿˜æ˜¯åˆ äº†ä¹‹å‰çš„æ–‡ä»¶å¤¹ä¸‹è½½äº†-b developçš„ç‰ˆæœ¬ï¼Œçœ‹äº†ä¸€ä¸‹developçš„ readmeï¼Œä¸ºäº†cmakeå’Œmakeæ¥ç¼–è¯‘å’Œå®‰è£…è¿™ä¸ªç¯å¢ƒä¸å‡ºé—®é¢˜ï¼Œæˆ‘åˆcheckout masterå›åˆ°äº†masteråˆ†æ”¯â€¦ï¼ˆmakeçš„è€—æ—¶æé•¿\n\næ€»ä¹‹æˆ‘æ‰“ç®—åœ¨åˆ›å»ºprivate testnetçš„æ—¶å€™è¿œç¨‹æ‹‰å–develop branchä¸Šçš„libraries/egenesis/genesis-dev.jsonæ–‡ä»¶åˆ°æœ¬åœ°ä½¿ç”¨...\n\n### è ¢å“­äº†\n\nåŸæ¥åªéœ€è¦åœ¨è‡ªå·±çš„åˆ›ä¸–æ–‡ä»¶ä¸­æ·»åŠ `extensions`å£°æ˜å°±å¯ä»¥é‡æ–°æ–°å»ºä¸€ä¸ªprivate testnetï¼Œç›¸åº”çš„ï¼Œæˆ‘æ›´æ–°äº†ä¹‹å‰çš„è´¦æˆ·ä¿¡æ¯ã€‚ç›®å‰htlcå°±å¯ä»¥è¢«æ¿€æ´»äº†ï¼Œè¿”å›çš„jsonå“åº”å¦‚ä¸‹ï¼š\n\n```json\n{\n  \"ref_block_num\": 310,\n  \"ref_block_prefix\": 3835468172,\n  \"expiration\": \"2019-07-15T13:47:45\",\n  \"operations\": [[\n      49,{\n        \"fee\": {\n          \"amount\": 200000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"from\": \"1.2.17\",\n        \"to\": \"1.2.18\",\n        \"amount\": {\n          \"amount\": 10000000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"preimage_hash\": [\n          2,\n          \"47c28c2c6728b718d38021d5c624f106da8a3b3c14351dce3bc7012427779a9b\"\n        ],\n        \"preimage_size\": 28,\n        \"claim_period_seconds\": 1000,\n        \"extensions\": []\n      }\n    ]\n  ],\n  \"extensions\": [],\n  \"signatures\": [\n    \"202dbfab91faba45ee081d61c67890764aa90a95961f9d5680249bbc93ba423e404df9fe8636a86889db98cd6d03bdc3cf4b10332d84dee2d97218d12d2d16d1fe\"\n  ]\n}\n```\n\né”å®šå‰ä½™é¢ï¼š9999887978.96193 BTS\n\né”å®šåä½™é¢ï¼š9999887876.96193 BTS\n\n##### step 3\n\njohn Before amount:85077.94336 BTS\n\nä»è¿™ä¸€æ­¥å¼€å§‹å°±æ˜¯æ”¶æ¬¾æ–¹çš„æ“ä½œäº†ï¼Œé¦–å…ˆæŸ¥çœ‹è´¦æˆ·æœ€è¿‘å†å²æ“ä½œä¿¡æ¯ï¼Œå¯ä»¥å‘ç°è½¬è´¦å‘èµ·æ–¹ç”Ÿæˆçš„htlcå†…å®¹åŒ…å«ï¼š\n\n1. htlc_database id\n2. å“ˆå¸Œç®—æ³•\n3. å“ˆå¸Œå€¼\n4. è½¬è´¦è´¹ç”¨\n\næ¥ä¸‹æ¥é€šè¿‡get_htlc+ database idæ¥è·å–å…·ä½“contracté‡Œçš„å†…å®¹åŒ…æ‹¬ä»–å°†è¦è¿‡æœŸçš„æ—¶é—´ï¼Œå…‘æ¢è¿™ä¸ªtokenåˆ™éœ€è¦ä½¿ç”¨htlc_redeem+database id+account+ç ´è¯‘å‡ºçš„preimage+æœ€åbroadcastä¸ºtrueï¼Œå†æ¬¡æŸ¥çœ‹ä½™é¢å°±ä¼šå‘ç°è½¬è´¦æˆåŠŸ\n\n```json\nunlocked >>> get_account_history john 1\n2019-07-15T13:47:20 Create HTLC to john with id 1.16.0 preimage hash: [SHA256 47c28c2c6728b718d38021d5c624f106da8a3b3c14351dce3bc7012427779a9b] (Fee: 2 BTS) \nunlocked >>> get_htlc 1.16.0\n{\n  \"transfer\": {\n    \"from\": \"yfan\",\n    \"to\": \"john\",\n    \"asset\": \"BTS\",\n    \"amount\": \"100\"\n  },\n  \"conditions\": {\n    \"htlc_lock\": {\n      \"hash_algo\": \"SHA256\",\n      \"preimage_hash\": \"47c28c2c6728b718d38021d5c624f106da8a3b3c14351dce3bc7012427779a9b\",\n      \"preimage_size\": 28\n    },\n    \"time_lock\": {\n      \"expiration\": \"2019-07-15T14:03:55\",\n      \"time_left\": \"5 minutes in the future\"\n    }\n  }\n}\nunlocked >>> htlc_redeem 1.16.0 john \"yfan_Test_CrosscHain_14yhl9T\" true\n{\n  \"ref_block_num\": 468,\n  \"ref_block_prefix\": 3932948519,\n  \"expiration\": \"2019-07-15T14:00:55\",\n  \"operations\": [[\n      50,{\n        \"fee\": {\n          \"amount\": 200000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"htlc_id\": \"1.16.0\",\n        \"redeemer\": \"1.2.18\",\n        \"preimage\": \"7966616e5f546573745f43726f7373634861696e5f313479686c3954\",\n        \"extensions\": []\n      }\n    ]\n  ],\n  \"extensions\": [],\n  \"signatures\": [\n    \"20273c975297e19ceeed0b28e8a3b3c0b457e88d67005f4f9bd3758bcee331bcfb51cec758b01d14d18d5378828c805eff3c272d35e7ce1913a5c77a478468fe66\"\n  ]\n}\nunlocked >>> list_account_balances john                 \n86075.94336 BTS  \n\nunlocked >>> list_account_balances yfan\n9999886874.96193 BTS\n\n```\n\nå…¶ä»–çš„å‡½æ•°åŠŸèƒ½æµ‹è¯•responseï¼š\n\n```json\nunlocked >>> htlc_create yfan john 10000 BTS SHA256 47C28C2C6728B718D38021D5C624F106DA8A3B3C14351DCE3BC7012427779A9B 28 1000 true\n{\n  \"ref_block_num\": 650,\n  \"ref_block_prefix\": 2028552969,\n  \"expiration\": \"2019-07-17T10:05:10\",\n  \"operations\": [[\n      49,{\n        \"fee\": {\n          \"amount\": 200000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"from\": \"1.2.17\",\n        \"to\": \"1.2.18\",\n        \"amount\": {\n          \"amount\": 1000000000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"preimage_hash\": [\n          2,\n          \"47c28c2c6728b718d38021d5c624f106da8a3b3c14351dce3bc7012427779a9b\"\n        ],\n        \"preimage_size\": 28,\n        \"claim_period_seconds\": 1000,\n        \"extensions\": []\n      }\n    ]\n  ],\n  \"extensions\": [],\n  \"signatures\": [\n    \"1f5ee3272734880cba14486497c16fd84212f51efb62ed51f745699cca02be09f121d9f8c2ab8de4e08b5d0521e39e8ec332dbf75b3c1a820fc266c761e3aa7f44\"\n  ]\n}\nunlocked >>> get_account_history yfan\n10 assert_exception: Assert Exception\na0 != e: too few arguments passed to method\n    {}\n    th_a  api_connection.hpp:169 call_generic\nunlocked >>> get_account_history yfan 1\n2019-07-17T10:04:45 Create HTLC to john with id 1.16.2 preimage hash: [SHA256 47c28c2c6728b718d38021d5c624f106da8a3b3c14351dce3bc7012427779a9b] (Fee: 2 BTS) \n\nunlocked >>> htlc_extend 1.16.2 yfan 200 true\n{\n  \"ref_block_num\": 672,\n  \"ref_block_prefix\": 3596273135,\n  \"expiration\": \"2019-07-17T10:07:10\",\n  \"operations\": [[\n      52,{\n        \"fee\": {\n          \"amount\": 200000,\n          \"asset_id\": \"1.3.0\"\n        },\n        \"htlc_id\": \"1.16.2\",\n        \"update_issuer\": \"1.2.17\",\n        \"seconds_to_add\": 200,\n        \"extensions\": []\n      }\n    ]\n  ],\n  \"extensions\": [],\n  \"signatures\": [\n    \"200ec6e4f3104e773a7b185ae04ef5953fbda7929ac2c3168daab0abb3ccb1238b1145ad19d10e1c010a6f9c00b9ea2ff2919502884cc8bce87e2bcce6afd41895\"\n  ]\n}\nunlocked >>> \n\n```\n\n\n\n##### prepare\n\n```cpp\ntransaction_obj htlc_prepare(depositor, quantity, symbol, recipient, hash_algorithm, preimage_hash, preimage_length, timeout_threshold, htlc_preparation_fee)\n  \n  \n  Validate: HTLC signed by requisite `authority` for `depositor` account \n  Validate: `depositor` account has requisite `quantity` of `symbol` asset for the `guarantee`\n  Validate: `timeout_threshold` < now() + GRAPHENE_HTLC_MAXIMUM_DURRATION\n  Calculate: `required_fee` = GRAPHENE_HTLC_OPERATION_FEE + GRAPHENE_HTLC_DAILY_FEE * count((`timeout_threshold` - now()), days)\n  Validate: `depositor` account has requisite `quantity` of BTS for `required_fee`\n  Validate: `recipient` account exists\n  Validate: `preimage_length` does not exceed GRAPHENE_HTLC_MAXIMUM_PREIMAGE_LENGTH\n  Validate: `preimage_hash` well formed\n  Update: BTS balance of `depositor` based on `required_fee`)\n  contract = new htlc_obj\n  Set: `contract.depositor` = `depositor`\n  Set: `contract.recipient` = `recipient`\n  Set: `contract.hash_algorithm` = `hash_algorithm`\n  Set: `contract.preimage_hash` = `preimage_hash`\n  Set: `contract.preimage_length` = `preimage_length`\n  Set: `contract.timeout_treshold` = `timeout_threshold`\n  Transfer: from `depositor` account to `contract.quantity` of `contract.symbol`\n  \n  \n  return results\n```\n\n##### redeem\n\n```cpp\ntransaction_obj htlc_redeem(fee_paying_account, id, preimage, htlc_redemption_fee)\n  Validate: transaction signed by requisite `authority` for `fee_paying_account` // any account may attempt to redeem\n  Get: get_htlc(id)\n  Validate: `fee_paying_account` account has requisite `quantity` of BTS for `htlc_redeem_fee` and `htlc_kb_fee`\n  Update: balance of `fee_paying_account` based on total fees\n  // Evaluate: timelock\n     if now() < `timeout_threshold` then return error // \"timeout exceeded\"\n  // Evaluate: hashlock\n     if length(preimage) != `id.preimage_length` then return error // \"preimage length mismatch\"\n     Calculate: `preimage_hash` = hash(preimage)\n     if `preimage_hash` != `id.preimage_hash` then return error // \"invalid preimage submitted\"\n     Update: balance of `id.recipient` add asset `id.symbol` of quantity `id.quantity`\n     Add: transaction to mempool \n     Set: `id.preimage_tx_id` = `transaction_id` \n     Cleanup: memory allocated to this htlc\n     Virtual Operation: Update account history for `depositor` to reflect redemption as by default the above operation will only appear for `redeemer`\n\n     return: results\n```\n\n##### extend expiry\n\n```cpp\ntransaction_obj htlc_extend_expiry(depositor, id, timeout_threshold, htlc_extention_fee)\n  Validate: 'depositor' = get_htlc(id).depositor \n  Validate: `timeout_threshold` < now() + GRAPHENE_HTLC_MAXIMUM_DURRATION\n  Calculate: `required_fee` = GRAPHENE_HTLC_DAILY_FEE * count((`timeout_threshold` - now()), days)\n  Validate: `depositor` account has requisite `quantity` of BTS for `required_fee`\n  Update: BTS balance of `depositor` based on `required_fee`)\n  Set: `contract.timeout_treshold` = `timeout_threshold`\n  return results\n```\n\nè¯¥æ€ä¹ˆå®ç°ä¸å¤–éƒ¨blockchainçš„è½¬è´¦å‘¢...\n\n------\n\nTo be continued\n\n<center> -å­¦æœ¯7-y.","tags":["Project"],"categories":["KTH"]},{"title":"ä¸€ä¸ªé¢„å‘Šå’Œè¿‘å†µ","url":"/2019/06/19/2019-6-19/","content":"\n# æˆ‘å›å½’äº†\n> ä¿¡èª“æ—¦æ—¦ä¸èƒ½æŠ›å¼ƒè¿™ä¸ªå°ç«™å­çš„æˆ‘ï¼Œå´ä¹Ÿæœ‰åŠå¹´æ²¡æœ‰æ›´æ–°ä»»ä½•ä¸œè¥¿\n> \n> ç”šè‡³æˆ‘è¿™åŠå¹´æ¥éƒ½æ²¡æœ‰å¯ä»¥æ‹¿å‡ºæ‰‹çš„å­¦ä¹ è¿›ç¨‹\n> \n> è¯´èµ·æ¥ äººç”Ÿåˆä¸§æ°”äº†è®¸å¤š TT\n> \n> å½“ç„¶ï¼Œæˆ‘çˆ¸çš„è¯—ä¹Ÿæ²¡æœ‰å¯ä»¥æ‹¿çš„å‡ºæ‰‹äº†çš„kkkï¼ˆè¯¯ \n> å…¶å®æ˜¯ä¿ºçˆ¸managed working onæ‰‹æœºå¾®ä¿¡å…¬ä¼—å·å¹³å°äº† æ­å–œæ‰¾åˆ°ä¸œè¥¿åšçš„ä»–æ”»å…‹ä¸­å¹´å±æœºæˆåŠŸï¼\n\n# åŒºå—é“¾è¸æ°´\nä¸ºä»€ä¹ˆè¦ç§°ä¹‹ä¸ºè¸æ°´è€Œä¸æ˜¯è¯•æ°´å‘¢ï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨åŒºå—é“¾çš„æµ·æ´‹é‡ŒçœŸçš„åªæ¥è§¦äº†å†°å±±ä¸€è§’ï¼Œè¿˜å¼„çš„ä¸€å›¢ç³Ÿï¼ˆæ‰¶é¢...\n\nèµ·å› æ˜¯è‡ªå·±æ‰¾äº†ä¸ªåŒºå—é“¾æŠ€æœ¯æ–¹å‘çš„æ¯•ä¸šè®¾è®¡ï¼Œå“‡è¯´å‡ºå»ç»™è°å¬éƒ½ä¸æ˜è§‰å‰å•Šã€‚æˆ‘å½“æ—¶ä¸€ä¸ªåŒºå—é“¾ä¸–ç•Œçš„å°æ‡µæ‡‚å¯æ˜¯ä»¥ä¸ºè‡ªå·±ä¼šé€šè¿‡æ¯•è®¾å˜å¾—å¥½æ£’æ£’å‘¢ã€‚ å¯æ˜¯è°æ›¾æƒ³æˆ‘çš„é¢˜ç›®è¦æ±‚åªæ˜¯~~ç®€ç®€å•å•çš„~~å¯¹äºè·¨é“¾æŠ€æœ¯çš„ç ”ç©¶åŠåˆ†ç±»æ¯”è¾ƒï¼Œæœ€é‡è¦çš„deliverableå¯èƒ½æ˜¯æå‡ºä¸€ä¸ªç›®å‰ç›¸å¯¹é€šç”¨çš„è·¨é“¾æŠ€æœ¯éœ€æ±‚, å—¯ è¿˜æ˜¯æå‡ºéœ€æ±‚ã€‚\n\nå¾—ï¼Œæƒ³æ‰¾ä¸ªæŠ€æœ¯ç±»çš„æ¥æå‡ã€æŒ‘æˆ˜å†ä¸æµé”»ç‚¼ä¸€ä¸‹è‡ªå·±çš„æ¢¦ç®—æ˜¯ç ´è£‚äº†ï¼Œæˆ‘è¿™é¡¹ç›®å°±ä¸€ä¸ªå¤§å­—ï¼š**RESEARCH!**\n\n##### *å¾ˆå¿«æˆ‘å°±æ¶ˆææ€ å·¥äº†....*\n\nè¯¥å¹²çš„æ´»è¿˜å¾—å¹²ï¼Œå‡ æ¬¡ä¸è€æ¿çš„æ²Ÿé€šä¸‹æ¥ï¼Œæˆ‘é€æ¸æ„ŸçŸ¥äº†æ•´ä¸ªé¡¹ç›®å­˜åœ¨çš„æ„ä¹‰ï¼ˆå¹¶ä¸ï¼Œåœ¨æˆ‘å‰å‰ååçœ‹äº†20å¤šä¸ªä¸åŒè·¨é“¾é¡¹ç›®çš„whitepaperå’Œç½‘ä¸Šåƒç¯‡ä¸€å¾‹çš„reviewåï¼Œæˆ‘å½»åº• downäº†ã€‚è™½è¯´è·¨é“¾ä¹Ÿå°±è¿™ä¸¤å¹´çš„äº‹æƒ…ï¼Œç ”ç©¶èµ·æ¥é¢‡å…·å›°éš¾ï¼Œä½†æŒ‰ç†è¯´æ€ä¹ˆæ ·çš„ä¸€å—å„¿ç¡¬éª¨å¤´ä¹Ÿæœ‰çš„å•ƒå‘€ï¼æ‰“å¼€texpadçœ‹äº†çœ‹æˆ‘çš„å†…å®¹ï¼Œæˆ‘æ·±æ„Ÿç­”è¾©çš„è‰°éš¾ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„å®ç°æ–¹å¼ï¼Œä¸€ä¸ªä¸ªç™½çš®ä¹¦å¾ˆå®¹æ˜“çœ‹äº†å°±å¿˜ã€‚ä»å®˜æ–¹ä»‹ç»ï¼ŒæŠ€æœ¯å®ç°ï¼Œè·¨é“¾æ–¹å¼ï¼Œå…±è¯†æœºåˆ¶ï¼Œæƒ³æ€»ç»“ï¼Œæƒ³å¯¹æ¯”ï¼Œæ€»ä¹Ÿæ‰¾ä¸åˆ°åˆé€‚çš„æ–¹å¼ã€‚æ¯ä¸€ä¸ªé¡¹ç›®çš„æ·±å…¥ç ”ç©¶æ˜¯ä¸å¯èƒ½äº†ï¼Œä½†æ˜¯å› ä¸ºå†…å®¹ä¸€ç‚¹ç‚¹çš„å¢å¤šï¼Œå†™è®ºæ–‡è¿˜æ˜¯æœ‰çš„å†™çš„ã€‚ ä¸çŸ¥ä¸è§‰å·²ç»ç äº†60å¤šé¡µ...\n\nä½†ä½œä¸ºå·¥ç§‘ç”Ÿï¼Œç¡•å£«æ¯•ä¸šè®¾è®¡æ€ä¹ˆä¹Ÿä¸èƒ½é å…¨éƒ¨çš„ç†è®ºå’Œå®˜æ–¹æ–‡ä»¶rephraseæ¥æ”¯æ’‘å§ã€‚æŠ¥å‘Šé‡Œçš„æ–‡å­—ç çš„è¶Šå¤šï¼Œæˆ‘è¶Šå®³æ€•åé¢çš„åˆ†æç»“è®ºä¸¤ç« æ— ä»ä¸‹æ‰‹ï¼Œä»¥è‡³äºæ²¡æœ‰å†…å®¹å¯å†™ã€‚\n\nå¾—æµ‹è¯•å‘€ï¼ä»BTC-relay, Interledger, Cosmosåˆ°wanchain, PalletOne,æ²¡æœ‰ä¸€ä¸ªçš„ä»‹ç»ä¸æ˜¯æŠŠè‡ªå·±å¤¸çš„å¤©èŠ±ä¹±å çš„ã€‚ä¸èƒ½ç†è§£ä¹Ÿä¸æ˜¯å¾ˆå…³å¿ƒçš„æˆ‘çš„è€æ¿åœ¨åˆ†æè¿™æ–¹é¢å±…ç„¶ç»™æˆ‘æäº†è®©æˆ‘å»google \"Project name+ issue\" å¯»æ‰¾å†…å®¹çš„å»ºè®®ã€‚ æˆ‘æ»¡è„¸é—®å·çš„åŒæ—¶ä¸€å£è€è¡€ å®Œè›‹äº† æ¯•ä¸äº†ä¸šäº† TAT\n\n\n\n> æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†ç”¨ç®€å•ç¨‹åºè¿›è¡Œæµ‹è¯•\n> äºæ˜¯æœ‰äº†æˆ‘çœŸæ­£æ„ä¹‰ä¸Šå°è¯•çš„ä¸€æ¬¡åŒºå—é“¾ç»å†...\n> å†™ä¸ªrepoè®°å½•ä¸€ä¸‹\n> è¿™æ¬¡è€—æ—¶è€—åŠ›çš„ä¸œè¥¿æœ€åæˆ‘ç”¨ä¸ä¸Šä¹Ÿè¯´ä¸å®š...\n\nTo be continued\n\n<center> -å­¦æœ¯7-y.","tags":["Project"],"categories":["KTH"]},{"title":"å®¶çˆ¶é…Œè¯—2018/10/7","url":"/2018/11/19/10-7/","content":"\n> æ•´ç†ç¬¬ä¸‰ç¯‡  \n> èƒ¡æ¨ä»ä¸€æ—©å°±æ˜¯æˆ‘çˆ¶äº²çš„è±¡å¾ä¸å›¾è…¾  \n> è¿™ç§ç²¾ç¥åœ¨ä»–èº«ä¸Šæ„ˆä¹…å¼¥æ–°  \n> éå¸¸è‡ªè±ª(Â´â—‰à±ªâ—‰ï½€)\n\n\n# 2018.10.07\nåä¸€é•¿å‡ï¼Œå°è±¡æœ€æ·±çš„è¿˜æ˜¯\n\n## <center>  èƒ¡æ¨\n\n> **æˆˆå£èƒ¡æ¨è€€å¤•é˜³ï¼Œæ»¡ç›®é‡‘é»„é—ªç§‹å…‰ã€‚**  \n> **åƒå¹´æ²§æ¡‘å±•é“®éª¨ï¼Œå¯’æš‘è½®æ¢å®ˆè¾¹ç–†ã€‚**   \n> **ç¬‘å¯¹å¯‚å»–æœ›å²æœˆï¼Œæ·¡çœ‹å‡„å‡‰åº¦å¯’éœœã€‚**  \n> **å¤šå°‘äººå»æœªæ›¾è®°ï¼Œä¸‡å¤è‹±åå¤©åœ°è’ã€‚**\n\n![1w](/1w.JPG)\n\n<center> -å‡¡å‘˜å¤–","tags":["Poems"],"categories":["ä¿ºçˆ¸xx"]},{"title":"å®ç°å°ç«™çš„å›½å†…è®¿é—®(ã€‚â‰–à¸´â€¿â‰–à¸´)","url":"/2018/11/17/å®ç°å°ç«™çš„å›½å†…è®¿é—®/","content":"\n# - ä¹‹å‰çš„æŠ±æ€¨è¿˜ä¸æ˜¯å› ä¸ºè‡ªå·±æ‡’ -\n\nemmm æƒ³æ¥æŠ€æœ¯ç™½ç—´çš„æ—¥å¸¸å¯èƒ½å°±å’Œæˆ‘å·®ä¸å¤šäº†å§ã€‚ï¼ˆä¸æˆ‘è§‰å¾—æˆ‘ä¸å‚» è¿˜æ˜¯å› ä¸ºæ‡’ï¼‰\n\n## éƒ¨ç½²å¹³å°\n\nèº«åœ¨å›½å¤–ï¼Œè®¿é—®githubçš„é€Ÿåº¦è‚¯å®šæ˜¯è¶³å¤Ÿçš„ï¼Œè¿™ä¸ªç½‘ç«™å­˜æ´»çš„å‰ä¸¤å‘¨ï¼ŒåŸŸåè§£æé‡ŒåªåŠ äº†github pageçš„CNAMEå’Œæ¬§æ´²åœ°åŒºçš„IPåœ°å€ã€‚ åœ¨æˆ‘è¿˜æ²¾æ²¾è‡ªå–œçš„æ—¶å€™ï¼Œå›½å†…çš„æœ‹å‹å‘Šè¯‰æˆ‘ â€œåˆ«ä¹äº†ï¼Œæˆ‘ä»¬çœ‹ä¸åˆ°â€\n\n> å¥½çš„å§...  \n\nåœ¨æˆ‘å¯»æ€æ˜¯ä¸æ˜¯è¯¥è¿œç¨‹æŒ‡å¯¼ä»–ä»¬ç¿»å¢™çš„æ—¶å€™,è°·æ­Œç»™æˆ‘ä»‹ç»äº†ä¸€ä¸ªå›½å†…çš„å¼€æºä»£ç æ‰˜ç®¡å¹³å°â€”â€”[Coding.net](https://coding.net/) ä¸å¾—ä¸è¯´ï¼Œåœ¨åŒ—æ¬§å»è®¿é—®è¿™ä¸ªç½‘ç«™é€Ÿåº¦çš„ç¡®ååˆ†çš„å ªå¿§ã€‚ æ€»ä¹‹æ³¨å†Œå¹¶è¿›äº†ç½‘ç«™ä¹‹åï¼Œæ•´ä½“ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯æ±‰åŒ–äº†çš„githubï¼ŒåŸºæœ¬æ“ä½œä¹Ÿç›¸ä¼¼ï¼Œäºæ˜¯æˆ‘ç®—æ˜¯çŸ¥é“å¾ˆå¤šæˆ‘åªä¼šç”¨è‹±è¯­æ¥è¯´çš„åè¯ç©¶ç«Ÿè¯¥æ€ä¹ˆç¿»è¯‘äº†xxx..\n\néƒ¨ç½²åŸºæœ¬æµç¨‹å’Œgithub pageæ˜¯ä¸€æ¯›ä¸€æ ·çš„ï¼Œç”šè‡³åœ¨ä»–æ˜¯å…¨ä¸­æ–‡ï¼ˆå¹¶ä¸”æˆ‘ä¹Ÿç†Ÿäº†ï¼‰çš„æƒ…å†µä¸‹ï¼ŒåŸºæœ¬ä¸Šå‡ åˆ†é’Ÿå°±æå¥½äº†è‡ªå·±çš„ä¸ªäººåšå®¢ï¼Œè¿™æ—¶å€™åœ¨åŸhexoçš„é…ç½®æ–‡ä»¶ä¸‹æ‰¾åˆ°`deploy`æ ‡ç­¾ä¸‹çš„ gitï¼Œæ·»åŠ ä¸Šcodingçš„linkå’Œç›¸åº”branchï¼Œå’»ï¼\n\nå¯ä»¥ç™»é™†*username*.coding.meå»æ´‹æ´‹å¾—æ„ä¸¤åˆ†é’Ÿäº†ï¼\n\n### åŒçº¿è§£ææ’è½¦\n\né—®é¢˜å‡ºåœ¨äº†å…³è”è‡ªå®šä¹‰åŸŸåçš„æ—¶å€™... åœ¨æˆ‘pingè¿™ä¸ªç½‘å€çš„æ—¶å€™å‘ç°ï¼Œä»–çš„ipæ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ·»åŠ è§£æè®°å½•æ—¶å°±ä¸åˆé€‚ä½¿ç”¨Aç±»å‹å•¦ã€‚è¿™é‡Œæˆ‘æ·»åŠ äº†ä¸¤æ¡è®°å½•éƒ½æ˜¯CNAMEæŒ‡å‘æˆ‘çš„éƒ¨ç½²åœ°å€ã€‚\n\nå› ä¸ºæ˜¯åŒçº¿è§£æï¼Œç»‘å®šåŸŸåæ—¶æ€»æ˜¯æŠ¥`åŸŸåæœªè¿é€š`çš„é—®é¢˜ã€‚ æŸ¥è¯¢äº†å®˜æ–¹FAQçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯\n\n 1. Codingç»‘å®šåŸŸåéœ€è¦å°†è§£æä¸­CNAMEé™¤äº†æŒ‡å‘`coding.me`çš„éƒ½åˆ é™¤\n 2. ç­‰å¾…githubçš„è§£æTTLæ—¶é—´è¿‡å»ï¼Œå†è¿›è¡Œç»‘å®šï¼ŒæˆåŠŸï¼\n 3. è¿™ä¸ªæ—¶å€™æˆ‘çš„è§£æçº¿è·¯é»˜è®¤éƒ½æ˜¯å»äº†Codingè¿™ä¸ªå¹³å°ã€‚\n 4. æ¥ä¸‹æ¥ä¸ºäº†æˆ‘åœ¨å›½å¤–çš„è®¿é—®é€Ÿåº¦ï¼Œæ·»åŠ å›äº†ä¹‹å‰è¢«åˆ é™¤çš„ä¸¤æ¡è®°å½•ï¼Œè®¾ç½®çº¿è·¯ä¸ºå¢ƒå¤–ã€‚\n\n\nä¹Ÿæ˜¯ä¸€ç•ªä¸å°çš„æŠ˜è…¾å•¦å“ˆå“ˆï¼Œç½‘ç«™å½»åº•æ­å»ºæˆåŠŸï¼Œå›½å†…ipåœ°å€æ˜¯åŠ¨æ€çš„ï¼ŒpingåŸŸåæ—¶å› ä¸ºè‡ªå·±åœ¨å›½å¤–ï¼Œæ‰€ä»¥æ˜¾ç¤ºçš„æ˜¯github pageæ‰€åˆ†é…çš„ipã€‚\n\n> æˆ‘ä¸æ˜¯é‚£ç§å†™æ•™ç¨‹çš„äººï¼Œåªä¼šæŠŠè‡ªå·±çš„æ’é›·è¿‡ç¨‹è®°å½•ä¸€ä¸‹  \n> æ‰€ä»¥æœ‰å•¥ç–‘é—®è¿˜çƒ¦è¯·å¤§å®¶ç§»æ­¥googleï¼Œç›¸ä¿¡æˆ‘ï¼Œå¤§ç¥æ•°ä¸è¿‡æ¥ï½\n\n\n<center> -æŠ˜è…¾çš„7-y.","tags":["æŠ˜è…¾æ—¥è®°"],"categories":["Self"]},{"title":"å®¶çˆ¶é…Œè¯—2018/10/30","url":"/2018/11/14/fyxautumn/","content":"\n> ä½œä¸ºå¥³å„¿ï¼Œå…¶å®å»ºè¿™ä¸ªcategoryçš„æœ€å¤§å¿ƒæ„¿æ˜¯ç»™å®¶äººçœ‹çœ‹çš„  \n> ï¼ˆè™½ç„¶ç°åœ¨è¿˜æ²¡èƒ½å®ç°å›½å†…é˜…è¯»...  \n> è¿™é‡Œä¿ºçˆ¸çš„è¯—æ¯ä¸€åˆ™éƒ½æ˜¯æˆ‘ç²¾æŒ‘ç»†é€‰çš„LOL\n\n\n# 2018.10.30\n\nä¸€åœºé£åï¼Œå¤©æ›´å†·äº†ã€‚å±‚æ—å°½æŸ“çš„æ™šç§‹ä¹Ÿè¦èµ°äº†ã€‚\n\n\n## <center>  é¹§é¸ªå¤©â€¢ æ™šç§‹\n\n> <center>  **æƒ˜é¡¾æµå¹´æ„ä¸Šå¤´ï¼Œ**  \n> **ææ¯å¶è½æ„éš¾ç•™ã€‚**   \n> **éŸ¶å…‰å·±é€é›„å¿ƒè¿œï¼Œ**  \n> **å²æœˆè¹‰è·å£®å¿—ä¼‘ã€‚**  \n\n \n> <center>  **ä¹¦åŠå·ï¼ŒèŒ¶ä¸€ç›…ï¼Œ**\n> <center>  **å”¯å­¦èŒ—é¦™é›…éŸµç•™ã€‚**\n>  <center> **å·é—²ä¸”çœ‹é£é£˜å¶ï¼Œ**\n> <center>  **ç•™å¾—ä»å®¹èµæ™šç§‹ã€‚**\n\n\n![autumn](fyxautumn/1.jpg) \n\n\n<center> -å‡¡å‘˜å¤–","tags":["Poems"],"categories":["ä¿ºçˆ¸xx"]},{"title":"å®¶çˆ¶é…Œè¯—2018/11/04","url":"/2018/11/11/fyx/","content":"\n> çˆ¶äº²æœ‰ä¸€å¤©å¾ˆä¸¥è‚ƒçš„è¯´è¦å‘æˆ‘è¯·æ•™ç‚¹ä¸œè¥¿  \n> æˆ‘ä¸€ä¸ªæ¿€çµé¥¶æœ‰å…´è¶£çš„å¬ä»–åé¢çš„è¯    \n> åŸæ¥ä»–å‘åœ¨æœ‹å‹åœˆé‡Œçš„å°è¯—å·²ç»è¶Šæ”’è¶Šå¤šäº†ï¼Œæƒ³å¼€ä¸ªå¾®ä¿¡å…¬ä¼—å·æ•´ç†ä¸€ä¸‹å¹¶ä¸”è®°å½•ä¸€ç‚¹æŠ€æœ¯ä¸Šçš„ä¸œè¥¿  \n> æµ·å¤–æŒ‡å¯¼ç€ç©è¿™äº›è¿˜çœŸçš„ä¸å®¹æ˜“å‘¢ æ€»ç®—å¼€èµ·æ¥äº†å´ä»æ²¡è§ä»–å‘å¸–  \n> é—®äº†åŠå¤©æ‰çŸ¥é“ä»–å«Œå¼ƒäººå®¶ä¸èƒ½æ‰‹æœºæ“ä½œëˆˆ_ëˆˆ \n\n> æ€»ä¹‹æˆ‘è¿™é‡Œç»™ä»–å¤‡ä¸ªä»½å§ ä¸‡ä¸€å“ªå¤©æƒ³çœ‹å‘¢å“ˆå“ˆå“ˆ\n\n# 2018.11.04\n\nå‰æ—¥ï¼Œæœ‰åŒå­¦è‡ªè¿œæ–¹æ¥ï¼Œä¸æƒ³å´æ˜¯ä¸€åœºåŒå¹´åŒæœˆåŒæ—¥çš„ç”Ÿæ—¥èšä¼šã€‚\n\n## <center>  åŒå­¦ç¼˜èš \n\n> <center>  **ä¸œå…”è¥¿ä¹Œåˆé€¢ç§‹ï¼Œ éŸ¶åä¸ä¸ºé’æ˜¥ç•™ï¼Œ**  \n> **æ˜”æ—¥åŒçª—æƒ…ç¼˜åšï¼Œ ä¸‡é‡Œè¾¹åŸæ¥èšé¦–ã€‚**   \n> **æ€å¯»å°‘å¹´å¤šå£®å¿—ï¼Œ é»¯ç„¶åå‘å¿†é£æµï¼Œ**  \n> **ä»Šå¤•å…±é¥®ç¥å¯¿é…’ï¼Œ çŸ¥å‘½å¤©å¹´æ— çƒ¦å¿§ã€‚**\n\n\n\n\n![leaf](fyx/IMG_5315.jpg)  \n\n\n<center> -å‡¡å‘˜å¤–","tags":["Poems"],"categories":["ä¿ºçˆ¸xx"]},{"title":"è¯•å›¾å¾€ä¸»ç«™æ·»åŠ éŸ³ä¹Try 1","url":"/2018/11/10/è¯•å›¾å¾€ä¸»ç«™æ·»åŠ éŸ³ä¹Try-1/","content":"# - éƒ½æ€ªä¸»é¡µå¤ªå¹²å‡€å•¦(ï½¡â€¢Ë‡â€¸Ë‡â€¢ï½¡) -\n\n> åˆå¿ƒæ˜¯æƒ³æ·»åŠ ä¸€ä¸ªèƒŒæ™¯éŸ³ä¹  \n> ä¸€ä¸ªä¸€è¿›åˆ°ç½‘ç«™å°±é»˜é»˜è‡ªå·±æ’­æ”¾çš„é‚£ç§ä¹–å·§çš„èƒŒæ™¯éŸ³ä¹  \n> Like the old times when we wrote blogs held by *Sina*  LOLğŸ¤£\n\nèŠ±äº†å¤§æ¦‚æœ‰ä¿©å°æ—¶æ²¡å¹²æ­£äº‹å»å€’è…¾è¿™ä¸ªï¼ŒæœŸé—´åˆæ˜¯æœpluginsï¼Œåˆæ˜¯å°è¯•æ·»åŠ `frame`æ ‡ç­¾ `embed`æ ‡ç­¾ `audio`æ ‡ç­¾ç§ç§. ç½‘ä¸Šå¥½ç†è§£çš„ä¾‹å­éƒ½æ˜¯å›½å†…å¤§å¤§ä»¬å†™çš„ï¼Œè‡ªç„¶éŸ³ä¹å¹³å°ç”¨çš„ç½‘æ˜“äº‘ã€‚ \n\næˆ‘è¿™ç§å«Œå¼ƒç½‘æ˜“äº‘ï¼ˆè¯¯ï¼‰ä¸”åœ¨æµ·å¤–çš„æŠ€æœ¯å­¤å„¿ï¼Œçœ‹äº†çœ‹å¹³å¸¸è‡ªå·±å¬éŸ³ä¹ç”¨çš„Spotifyï¼Œæ·±æ„Ÿå°†æ˜¯ä¸€åœºæ¶æˆ˜...\n\n## Plugins\n\nåˆ°åº•æ˜¯åŸºäºhexoï¼ŒæŸ¥äº†å‡ ä¸ªæ•™ç¨‹éƒ½æ˜¯åŠä¸è¦è¿™ä¹ˆåŠ éŸ³ä¹ï¼ˆå› ä¸ºä¼šé™ä½hexoæœ¬èº«çš„loadingé€Ÿåº¦ï¼‰æˆ‘è¿˜æ˜¯ä¸æ­»å¿ƒçš„å»æŸ¥äº†pluginsã€‚\n\nç›¸è¾ƒäºçŸ¥ä¹ä¸Šçš„é‚£ä¸ªå›ç­”ï¼Œ2018çš„hexoå·²ç»æœ‰ä¸å°‘å¤§ç‰›å†™äº†musicæ ‡ç­¾çš„æ’ä»¶ä¾›æˆ‘ä»¬è¿™äº›æŠ˜è…¾ç‹å»ç©ç©ï¼Œç†æ‰€å½“ç„¶åœ°çœ‹åˆ°äº†[hexo-tag-spotify](https://github.com/ivanovyordan/hexo-tag-spotify)\n\n è¿™ä¸ªæ’ä»¶çš„READMEå†™çš„è¿˜ç®—ä¸­è‚¯ï¼Œå°ç™½ç—´å¦‚æˆ‘å®‰è£…å¥½ä¹‹åé¦–å…ˆåœ¨configé‡Œè·³äº†ä¸€ä¸ªå¤§å‘ï¼Œçœ‹äº†æœ‰ä¸ªä¸­æ–‡çš„æ•™ç¨‹æˆ‘å°±å‚»ç“œå¼çš„ç…§æ¬äº†äººå®¶çš„é…ç½®ï¼Œå½“æ—¶è¿˜è§‰å¾—å“‡è¿™ä¸ªé…ç½®çš„commentå†™çš„å¯çœŸè¯¦ç»†ï¼Œä»¥åä¸ç”¨æ€•å•¦è‚¯å®šçœ‹çš„æ‡‚å•¦ï¼ç»“æœå°±åœ¨deployçš„æ—¶å€™æ‰¾ä¸åˆ°gitäº†ï¼Œç™¾æ€ä¸å¾—å…¶è§£çš„æˆ‘æŠŠæŠ¥é”™ä¿¡æ¯è°·æ­Œäº†äº”å…­é¡µï¼Œæ— éæ˜¯è®©æˆ‘é‡æ–°å®‰è£…hexo-deployer-gitï¼Œåœ¨ä¸æ–­æ’å—å¢™çš„è¿‡ç¨‹ä¸­æˆ‘çªç„¶æ„è¯†åˆ°å¯èƒ½æ˜¯æˆ‘çš„ä½ç½®æœ‰é”™ã€‚ æ€»ä¹‹ï¼Œæœ€åè¿˜æ˜¯è·Ÿäº†äººå®¶çš„READMEåŒ–ç¹ä¸ºç®€configæˆåŠŸã€‚\n \nç„¶åå°±æ˜¯æˆ‘ä¸ä¼šç©çš„åœ°æ–¹äº†.... usageæˆ‘åŠ åœ¨å“ªé‡Œå¥½åƒéƒ½ä¸å¤§å¯¹å‘€ï¼Œç¼–è¯‘çš„æ—¶å€™æ€»ä¼šæŠ¥äº›é”™å°±æ˜¯äº†ã€‚æ— å¥ˆæˆ‘æ”¾å¼ƒäº†è¿™æ¡è·¯ï¼Œä½†è¿˜æ˜¯å¿ƒæœ‰ä¸ç”˜\n\n## Spotify play-button\n\nè¿™ä¸ªæ˜¯ä¸ªå¥½ä¸œè¥¿çš„ï¼å®˜ç½‘æ•™ç¨‹å°±å¾ˆå¥½è¯»ï¼Œç›´æ¥ç”Ÿæˆäº†frameæ ‡ç­¾æ–¹ä¾¿æˆ‘ä»¬æ·»åŠ åˆ°*.html*æ–‡ä»¶é‡Œï¼Œå…´å†²å†²çš„è·‘å»github.ioé‡Œå†™åœ¨äº†indexä¸­ã€‚\n\n#### **Eureka!!!!!!**\n\nå‡ºç°äº†hhhï¼Œä½†æ˜¯æˆ‘çš„ä¸»é¡µå®åœ¨æ˜¯å¤ªç™½å¤ªå¹²å‡€äº†ï¼Œæœ‰é‚£ä¹ˆä¸€ä¸ªbuttonåœ¨çœŸå®çš„ç ´åäº†ç¾æ„Ÿï¼Œæ‹æ‹ä¸èˆçš„æŠŠé‚£ä¸€è¡Œåˆcommentæ‰äº†ã€‚  \n\nè½¬å¿µä¸€æƒ³ï¼Œæˆ‘ä½•ä¸çœŸçš„å†™ä¸€ä¸ªpoè®°ä¸€ä¸‹è¿™ä¸ªä»£ç ä»¥åŠåˆ†äº«ä¸€ä¸ªplaylistï¼Ÿ\n\nSo here we areï¼ˆã€‚â‰–à¸´Ï‰â‰–à¸´ï¼‰\n\n\nä»£ç å—åœ¨è¿™ï¼š\n\n```\n<iframe src=\"https://open.spotify.com/embed/user/spotify/playlist/37i9dQZF1DWYWddJiPzbvb&auto=1\" width=\"300\" height=\"500\" frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\n\n```\n(é¡ºå¸¦æä¸€å˜´ï¼Œè¿™é‡Œéå¸¸ä½©æœå¾ˆå¤šå›½å†…çš„å¤§ä½¬ä»¬ï¼Œä¸­åå„¿å¥³çœŸçš„å¤ªèªæ˜äº†ï¼æ‰¾è¿™äº›æ•™ç¨‹çš„æ—¶å€™æˆ‘å‘ç°äº†å¯åµŒå¥—åœ¨spotifyçš„lyrics appï¼Œ[github](https://github.com/ddddxxx/LyricsX/releases) ç‰ˆæœ¬ä»¥åŠ[app store](https://itunes.apple.com/us/app/lyricsx/id1254743014?mt=12&ign-mpt=uo%3D4)éƒ½å·²ç»ä¸Šæ¶å•¦ï¼éå¸¸å¥½ç”¨ï¼æˆ‘ç”¨åœ¨è‡ªå·±çš„Spotifyä¸Šç©çš„ä¸äº¦ä¹ä¹, æ„Ÿå…´è¶£çš„è¯å»æ”¯æŒä¸€ä¸‹å‘€ï½ï½ï¼‰\n \n***\n\n<iframe src=\"https://open.spotify.com/embed/user/spotify/playlist/37i9dQZF1DWYWddJiPzbvb&auto=1\" width=\"760\" height=\"500\" frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\n\nå†™blogçš„å…´è¶£ä½†æ„¿ä¸ä¼šå¤ªæ—©å°±æ¶ˆäº¡ï¼Œæœ‰çš„æ—¶å€™æˆ‘éƒ½å¾ˆæ‡Šæ¼æ²¡æœ‰åœ¨å¤§å­¦æœŸé—´å°±æ“å¼„èµ·æ¥ï¼Œå³ä½¿è¿˜ä¸èƒ½å«å¤ªæ™šï¼Œä¹Ÿè½åå¾ˆå¤šäº†ï¼ŒåŠªåŠ›å§ï¼\n<center> No more Quater-life Crisis\n\nè°¢è°¢ä½ è€å¿ƒçœ‹æˆ‘ç¢ç¢å¿µåˆ°è¿™é‡Œ, Comfort Zoneæ­Œå•å¦‚åï¼Œå¸Œæœ›ä½ ä¹Ÿå–œæ¬¢xx\n\n<center> -æŠ˜è…¾çš„7-y.\n\n\n","tags":["æŠ˜è…¾æ—¥è®°"],"categories":["Self"]},{"title":"IK2200 éƒ¨ç½²å°è®°","url":"/2018/11/09/IK2200/","content":"\n\n# å†™åœ¨å‰é¢\n>  é¡¹ç›®ç»„ 6äºº\n> \n>  é¢˜ç›®ï¼š Development of a multi-threaded NAT (å¤šçº¿ç¨‹NATå®ç°ï¼‰\n> \n>  æ¶‰åŠçŸ¥è¯†ï¼šLiunxï¼ŒC++ï¼ŒDPDKï¼ŒFastClick\n> \n>  repoé“¾æ¥å‚è§projecté¡µé¢\n\nåˆšå‡†å¤‡å·ä¸ªæ‡’æŠŠå†™åœ¨é¡¹ç›®repoé‡Œçš„wikiç›´æ¥å¤åˆ¶ç²˜è´´è¿›æ¥ï¼Œpoåˆ°ç«™å­ä¸Šæ‰å‘ç°æ ¼å¼è¿™ä¹ˆçš„ä¸‘å•Šhhhhã€‚\n\nå…¶å®è‡ªå·±å¹¶ä¸æ˜¯ç¬¬ä¸€å¤©ç”¨markdownå†™*.md* å‘€ï¼Œä»£ç å—ä»€ä¹ˆçš„ä¹Ÿä¸éš¾åˆ†åŒºï¼Œæ€»ä¹‹æˆ‘è¿˜æ˜¯è€è€å®å®çš„è‡ªå·±è®°å½•å§....\n\n## 1st Period\n\n### æ‹“æ‰‘å›¾åœ¨è¿™é‡Œ\n![topology](IK2200/Capture2.png)\n\n\nç¬¬ä¸€å¤©æ‹¿åˆ°è¯¾é¢˜ï¼Œè¿˜æ˜¯è§‰å¾—è›®ä¸å¦‚æ„çš„ã€‚ ç»„é‡Œå¤§å®¶éƒ½æƒ³åš Meeting strict latency SLOs in key-value storesï¼Œ ä½†æ— å¥ˆç§ç§åŸå› åˆ†é…åˆ°äº†NATç»„ã€‚ï¼ˆå†™åœ¨period 2ï¼šè¿™æ—¶å€™å°±å‘ç°äººç”Ÿè¿˜æ˜¯å…¬å¹³çš„ï¼ŒTAéå¸¸ä¼˜ç§€è´Ÿè´£ï¼‰\n\næ‰€æœ‰çš„é¡¹ç›®å¥½åƒå¯¹æˆ‘æ¥è¯´éƒ½æ˜¯ä¸€ç‚¹ç‚¹ç†Ÿæ‚‰ä¸‹æ¥çš„ï¼Œåœ¨å†™project plançš„æ—¶å€™è„‘å­è¿˜çœŸæ˜¯ä¸€ç‰‡ç©ºï¼Œä¸€å…±å°±ä¸‰ä¸ªtasksçš„ä»‹ç»ç¿»æ¥è¦†å»çœ‹äº†ä¸ä¸‹10éä¹Ÿæ²¡æœ‰ç¡®å®šçš„è¿›è¡Œç›®æ ‡ã€‚ ä¸»ä»»åŠ¡åœ¨æ‰¾åˆ°åˆé€‚çš„packet generatorä¸Šå‘ä»¥å¤šé€Ÿç‡çš„åŒ…æ¥å®ç°å•æ ¸NATæœºå™¨çš„bottleneck performanceã€‚äº‹å®ä¸Šä¹Ÿæ˜¯åœ¨å¯»æ‰¾åˆé€‚çš„generatorè¿™ä¸ªé˜¶æ®µè€—æ—¶æœ€ä¹…ã€‚å°±project planè€Œè¨€ï¼Œä¸€åˆ‡éƒ½å¾ˆè¡¨é¢ï¼Œç¿»æ¥è¦†å»æ— éå°±æ˜¯å‡ ä¸ªé˜¶æ®µçš„big pictureï¼ŒæŠ€æœ¯å±‚é¢åªèƒ½åœ¨è¿›å±•ä¸­ç§¯ç´¯å®ç°ï¼Œå¯¹äºä¸€ä¸ªï¼ˆè¿‘ï¼‰å®Œå…¨ä¾é è™šæ‹Ÿæœºçš„é¡¹ç›®ï¼Œé£é™©è§„é¿æœ‰æˆ‘å¤´ç–¼çš„å“ˆå“ˆå“ˆï¼Œæœ€ç»ˆæˆ‘çš„é‡ç‚¹è¿˜æ˜¯æ”¾åœ¨äº†æµ‹è¯•é˜¶æ®µã€‚ï¼ˆå†™åœ¨period 2: ä¸€ä¸ªå‘åŒ…å™¨çš„bottleneckå°±æŠŠæˆ‘æ‰“å…¥è°·åº•äº†ï¼‰\n\nå› ä¸ºæ˜¯ç ”ç©¶ç”Ÿçš„å­¦æ ¡é¡¹ç›®ï¼Œæµ‹è¯•ç¯å¢ƒä¹Ÿå°±ç†æ‰€åº”å½“åœ¨KTH Serverçš„KVMä¸Šã€‚å½“ç„¶æˆ‘ä¹Ÿå°è¯•è¿‡ç”¨æœ¬åœ°è™šæ‹Ÿæœºå®ç°ï¼Œæ•ˆæœå¿…ç„¶ä¸å¥½ï¼Œä½†ä¹Ÿç®—æŠŠé…ç½®éƒ½ä¿ç•™äº†ä¸€ä»½ã€‚\n\n>* æœ¬åœ°VMware Fusion æ­å»ºUbuntu 16.04 ä¸¤å°\n>* åˆ†é…3-4ä¸ªå¤„ç†å™¨ å†…å­˜é‡åŠ›è€Œè¡Œ\n>* å®‰è£…VMware tools åœ¨ä¸¤ä¸ªä¸åŒç½‘æ®µæ·»åŠ è™šæ‹Ÿç½‘å¡\n>* æ›´æ”¹è™šæ‹Ÿç½‘å¡e1000ä¸ºé«˜é€Ÿç½‘å¡vmxnet3\n\n### packet generators ä¹‹æ—…\n\nè¿™é‡Œæˆ‘ä»¬å¤§æ¦‚å¯»æ‰¾äº†6ç§å‘åŒ…è½¯ä»¶ï¼Œç°é™¤äº†Ciscoä¸‹çš„[T-rex](https://trex-tgn.cisco.com/trex/doc/trex_manual.html#_introduction)è¿˜åœ¨æ®‹å–˜ç€ä¹‹å¤–ï¼Œå…¶ä½™çš„éƒ½å·²æˆ˜è´¥ã€‚\n\næˆ‘åœ¨ç»„é‡Œæ¥è§¦äº†[Ostinato](https://userguide.ostinato.org/Quickstart.html) å’Œ [Warp17](https://github.com/Juniper/warp17)ä¸¤ç§å·¥å…·ï¼Œæ“ä½œæ„Ÿéƒ½è¾ƒæµç•…ã€‚Ostinatoå¤±åˆ©äºå…¶å¹¶ä¸æ”¯æŒDPDKï¼Œä¸å¼€å‘äººå‘˜è”ç³»åå¾—åˆ°æ˜å¹´æ›´æ–°çš„æ¶ˆæ¯ğŸ˜‚ï¼ˆåç­‰æ›´æ–°ï¼‰\n\nWarp17æ˜¯ä¸€ä¸ªæ¨ªè·¨å¤šå±‚çš„stateful traffic generatorï¼Œåº”ç”¨äºæˆ‘ä»¬çš„é¡¹ç›®æ¯”è¾ƒåˆé€‚ï¼Œå‘½ä»¤è¡ŒCLIæ˜“æ‡‚ç®€å•ï¼Œtestçš„guiå†™çš„æ¯”è¾ƒå®Œæ•´ï¼Œæä¾›çš„ä¿¡æ¯è¾ƒå¤šä½†åœ¨å®ç°latencyçš„æµ‹é‡æ–¹é¢é€Ÿç‡å½±å“è¾ƒå¤§ï¼Œè¿™ä¸ªè½¯ä»¶ç”¨æˆ·ç¾¤ä½“ä¸å¤§ï¼Œä½†å¥½åœ¨google groupå›å¤å°å“¥å¾ˆç”¨å¿ƒï¼Œæä¾›çš„å¸®åŠ©ä¹Ÿå¾ˆåŠæ—¶ï¼Œæ€»çš„æ¥è¯´æµ‹é‡åŸºæœ¬çš„ååé‡è¿˜æ˜¯å¯ä»¥çš„ã€‚\n\n***\n\n<p align=\"center\">è¯¦ç»†è®°å½•ä¸€ä¸‹T-rexï¼š\n\n\næœ€å¼€å§‹ä½¿ç”¨T-rexçš„æ—¶å€™ï¼Œä¸ºäº†å›¾æ–¹ä¾¿æˆ‘å‡ ä¹æŠŠæ‰€æœ‰çš„å…´è¶£éƒ½æ”¾åœ¨äº†stateless GUIä¸Šï¼Œè¿™é‡Œæˆ‘å°±ä¸è´´å›¾æˆ–è€…gifæ¥å±•ç¤ºäº†ã€‚\n\nè·Ÿæ‰€æœ‰å‘åŒ…å·¥å…·çš„guiä¸€æ ·ï¼Œæ“ä½œç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿æ¥åˆ°å¼€å¯trex serverçš„æœºå™¨åï¼Œå…ˆä»¥root/userèº«ä»½æ¥acquireç‰¹å®šçš„portç”¨æ¥å‘åŒ…/æ”¶åŒ…ã€‚ åç»­å°±æ˜¯æ–°å»ºä¸€ä¸ªprofileå¹¶ä¸”åœ¨å…¶ä¸­æ·»åŠ é…ç½®ç‰¹å®šstreamåŒ…çš„æ”¶å‘åœ°å€ã€ä¸ªæ•°/ppsã€åè®®ä»¥åŠç‰¹å®šçš„port range(if necessary). é‚£ä¹ˆä¸€ä¸ªflowå°±å·²ç»è®¾ç½®å¥½äº†ã€‚\n\nå› ä¸ºæ”¶é›†æ•°æ®çš„ç±»å‹è¦æ±‚ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨è®¾ç½®çš„æ—¶å€™è¦å¼€å¯ä»–çš„latencyæ¨¡å¼å¹¶ä¸”ç»™ä¸åŒçš„flowè¾…ä»¥ä¸åŒçš„PG-IDï¼Œè¿™æ ·å°±ä¼šä½¿è¿™ä¸ªçš„GUIæ‰€å±•ç¤ºçš„dashboardååˆ†æœ‰è¯´å¤´ã€‚ï¼ˆä½†ä¹Ÿåªæ˜¯åœ¨demoçš„æ—¶å€™å¥½çœ‹ã€‚ã€‚ã€‚ä¸æ–¹ä¾¿æ•´ç†æ•°æ®\n\nè¿›å…¥dashboardï¼Œé™¤äº†åŸºæœ¬çš„æ”¶å‘é€Ÿåº¦ï¼Œä¸¢åŒ…ç‡ï¼Œæ¯”è¾ƒäº®çœ¼çš„å°±æ˜¯å®ƒè‡ªå¸¦çš„latency chartã€‚è¿™éƒ¨åˆ†æœ€å¤šå¯ä»¥è®¾ç½®4ä¸ªçª—å£å®æ—¶å±•ç¤ºå‘åŒ…è¿›ç¨‹ï¼Œä¸€èˆ¬ç”¨æ¥è§‚å¯Ÿçš„æ— éæ˜¯TXï¼ŒRXï¼ŒAVG latencyï¼Œä»¥åŠlatency histogramã€‚ï¼ˆé¢„æœŸæ•ˆæœæ˜¯åœ¨NATçš„è¿›ç¨‹ä¸‹æ¯”ç›´æ¥forwardè¦çœ‹åˆ°æ›´æ˜æ˜¾å¢åŠ è¶‹åŠ¿çš„latencyï¼‰\n\nä½†æ˜¯æ­£å¦‚æˆ‘æ‰€è¯´ï¼Œguiåªèƒ½ç”¨åšå±•ç¤ºï¼ŒçœŸæ­£éœ€è¦å¾ˆå¤§é‡æ•°æ®æ¥ç”»å›¾æ—¶ï¼Œè¿™ä¸ªå°±æ˜¾å¾—éå¸¸çš„é¸¡è‚‹äº†ã€‚\n\n\n> - é¦–å…ˆä»–è™½ç„¶å¯ä»¥ç›´æ¥duplicateå¤šæ¡flow ä½†æ˜¯éœ€è¦äººå·¥æ‰‹åŠ¨æ›´æ”¹port range ä»¥åŠPG-IDå· ä»¥ä¾¿æ­£å¸¸è®¡ç®—latency  \n> - å…¶æ¬¡æ ¹æ®t-rexå®˜æ–¹æŒ‡å¯¼ï¼Œåˆ©ç”¨guiç”Ÿæˆçš„*.yaml*æ–‡ä»¶ä¸æˆ‘ä»¬é€šè¿‡consoleè¿›è¡Œå‘åŒ…æ—¶å†™çš„è„šæœ¬æ–‡ä»¶æ ¼å¼æœ‰å¾ˆå¤§å‡ºå…¥ï¼ˆguiçš„è„šæœ¬å¯ä»¥é€šè¿‡consoleè¿›è¡Œå‘åŒ…ï¼‰  \n> - æœ€åå°±æ˜¯å¦‚æœæˆ‘ä»¬å¸Œæœ›flowæ•°ç›®å¢å¤§åˆ°ä¸€å®šæ•°é‡ä½¿ç”¨guiè¿›è¡Œé…ç½®æ¯æ¡flowæ˜¯æå…¶ä¸ç°å®çš„åŠæ³•\n\n\næœ€åæˆ‘ä»¬è¿˜æ˜¯å›å½’äº†consoleæœ¬èº«ï¼Œåœ¨ç ”ç©¶å‘åŒ…è„šæœ¬å†™æ³•çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°è¿™ä¸ªè½¯ä»¶æ”¯æŒpythonè„šæœ¬ï¼Œç»è¿‡æ”¹è‰¯ï¼Œæˆ‘ä»¬å®ç°çš„ç‰ˆæœ¬ä»£ç å¦‚ä¸‹ï¼š\n\n```python\nfrom trex_stl_lib.api import *\n\nclass STLS1(object):\n    \"\"\"\n    Create flow stat stream of UDP packet.\n    Can specify using tunables following params:\n      Packet length (fsize)\n      Packet group id (pg_id)\n      Packet type(pkt_type)\n      Number of streams (num_streams)\n    \"\"\"\n    def __init__ (self):\n        self.fsize = 64\n        self.pg_id = 0\n        self.num_streams = 2\n        self.dport=12\n        self.sport=1025\n        self.pps=100\n\n    def _create_stream (self):\n        size = self.fsize - 4; # HW will add 4 bytes ethernet CRC\n        pkt0=[]\n        pkt1=[]\n        for port_add in range(0,self.num_streams):\n          base_pkt0 = Ether(src = \"52:54:00:ca:f0:a4\" , dst =\"52:54:00:1e:4f:f3\") / IP(src = \"192.168.100.157\", dst = \"192.168.200.175\") / TCP(dport = self.dport+port_add, sport = 1025)\n          base_pkt1 = Ether(src = \"52:54:00:ca:f0:a4\" , dst =\"52:54:00:1e:4f:f3\") / IP(src = \"192.168.100.157\", dst = \"192.168.200.175\") / TCP(dport = 12, sport = self.dport+port_add)\n          pad0 = max(0, size - len(base_pkt0)) * 'x'\n          pad1 = max(0, size - len(base_pkt1)) * 'x'\n          pkt0.append(STLPktBuilder(pkt = base_pkt0/pad0))\n          pkt1.append(STLPktBuilder(pkt = base_pkt1/pad1))\n\n\n        streams = []\n        streams.append(STLStream(packet = pkt0[0], mode = STLTXCont(pps=1), flow_stats = STLFlowLatencyStats(pg_id = self.pg_id)))\n        streams.append(STLStream(packet = pkt0[1], mode = STLTXCont(pps=1), flow_stats = STLFlowStats(pg_id = self.pg_id+1)))\n        for pkt_num in range(0, self.num_streams):\n            streams.append(STLStream(packet = pkt0[pkt_num], mode = STLTXCont(pps=self.pps)))\n            streams.append(STLStream(packet = pkt1[pkt_num], mode = STLTXCont(pps=self.pps)))\n\n        return streams\n\n    def get_streams (self, fsize = 64, pg_id = 0,  num_streams = 1000 ,dport_num=12,sport_num=1025,pps_num=5000000, **kwargs):\n        self.fsize = fsize\n        self.pg_id = pg_id\n        self.num_streams = num_streams\n        self.dport=dport_num\n        self.sport=sport_num\n        self.pps=pps_num/(2*num_streams)\n        return self._create_stream()\n\n# dynamic load - used for trex console or simulator\ndef register():\n    return STLS1()\n\n```\nè‡³æ­¤ï¼Œæˆ‘ä»¬çš„generatorå‹‰å‹‰å¼ºå¼ºèƒ½è¿è¡Œäº†ï¼Œä½†æ˜¯å‡ºä¹æ„æ–™çš„æ˜¯multi-threaded NATæ€ä¹ˆä¹Ÿå¹²ä¸è¿‡å•çº¿ç¨‹ï¼Œæ¯ä¸€æ¬¡çš„æµ‹è¯•éƒ½åœ¨æ±‚çˆ·çˆ·å‘Šå¥¶å¥¶ä¸­è®©äººå¤§å¤±æ‰€æœ›ã€‚\n\n\n## 2nd Periodï¼ˆå¾ˆä¹…ä¹‹åçš„ä¸€æ¬¡æ€»ç»“...\n\n***\n\nTo be continued\n\n<center> -å­¦æœ¯7-y.\n\n\n","tags":["Project"],"categories":["KTH"]},{"title":"about","url":"/about/index.html"},{"title":"category","url":"/category/index.html"},{"title":"link","url":"/link/index.html"},{"title":"project","url":"/project/index.html"},{"title":"Search","url":"/search/index.html","content":"\n"},{"title":"tag","url":"/tag/index.html"}]